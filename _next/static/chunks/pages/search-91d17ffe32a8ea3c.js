(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{1632:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(9757)}])},9657:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(4848),n=r(6715),a=r(6540),l=r(4650);let i=function(e){let{searchKeyWord:t}=e,[r,i]=(0,a.useState)(t||""),[o,u]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),h=(0,n.useRouter)(),g=()=>{if(!r.trim()){d("入力してください");return}d(""),h.push({pathname:"/search",query:{search:r}})};return(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex items-center bg-white border border-gray-200 rounded-full shadow-lg px-4 py-2 focus-within:border-purple-500 focus-within:shadow-xl transition-all",children:[(0,s.jsx)("input",{value:r,onChange:e=>{i(e.target.value),d("")},onKeyDown:e=>{o||"Enter"!==e.key||g()},onCompositionStart:()=>u(!0),onCompositionEnd:()=>u(!1),type:"text",className:"w-full bg-transparent text-gray-700 focus:outline-none placeholder-gray-400",placeholder:"キーワードで検索"}),(0,s.jsx)("button",{onClick:g,className:"ml-2 p-2 bg-purple-600 text-white rounded-full hover:bg-purple-700 transition-all duration-300",children:(0,s.jsx)(l.Mmj,{size:22})})]}),c&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-500",children:c})]})}},3902:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(4848),n=r(1106),a=r.n(n),l=r(6540);let i=function(e){let{allTags:t}=e,[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(0);return(0,l.useEffect)(()=>{if(void 0!==window){let e=()=>{o(window.innerWidth)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}},[]),(0,s.jsxs)("section",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-lg",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"タグ検索"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(r?t:t.slice(0,Math.trunc(i/100))).map((e,t)=>(0,s.jsx)(a(),{href:"/posts/tag/".concat(e),children:(0,s.jsx)("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-800 rounded-full cursor-pointer hover:bg-gray-200 transition-all",children:e})},t))}),t.length>Math.trunc(i/100)&&(0,s.jsx)("div",{className:"mt-3 flex justify-end",children:(0,s.jsx)("button",{className:"text-purple-600 hover:text-purple-700 text-sm font-medium transition-all",onClick:()=>n(!r),children:r?"view less":"view more..."})})]})}},6944:(e,t,r)=>{"use strict";r.d(t,{DM:()=>a,O6:()=>s,Yh:()=>l,zY:()=>n});let s={title:"Home",id:"/posts"},n={title:"基礎班カリキュラム",id:"/posts/course/basic"},a={title:"検索",id:"/search"},l={title:"カリキュラム進捗度",id:"/user/progress"}},9757:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>v,default:()=>b});var s=r(4848),n=r(2855),a=r(3067),l=r(3902),i=r(6944),o=r(5721),u=r.n(o);let c=e=>e.split(/[ 　,、]/).filter(e=>""!==e.trim()),d=(e,t)=>{let r=e=>e.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"");return t.map(t=>{let s=0;for(let n of e){let e=r(n.toLowerCase());for(let n of(s+=1.2*u().compareTwoStrings(r(t.title),e),t.tags))s+=u().compareTwoStrings(r(n),e)}return{post:t,score:s}}).filter(e=>{let{score:t}=e;return t>.33}).sort((e,t)=>t.score-e.score).map(e=>{let{post:t}=e;return t})};var h=r(9004),g=r(6715),p=r(6540),f=r(9657),m=r(1259),x=r(6554),w=r(1988),v=!0;function b(e){let{allTags:t,posts:r}=e,[o,u]=(0,p.useState)(r),[v,b]=(0,p.useState)(1),[j,y]=(0,p.useState)((0,h.lg)(r)),{user:N}=(0,w.WB)(),_=(0,g.useRouter)(),S=void 0!==_.query.search?_.query.search:void 0;(0,p.useEffect)(()=>{!async function(){var e;let t=null!==(e=null==N?void 0:N.given_name)&&void 0!==e?e:"体験入部",s=await (0,h.Dc)(t,r);if(u(s),void 0!==S){let e=d(c(S),s);u(e),y((0,h.lg)(e))}}()},[S,r,N]);let E=x.g;return(0,s.jsx)(n.A,{pageNavs:[i.O6,i.DM],children:(0,s.jsxs)("div",{className:"pt-20",children:[(0,s.jsx)("main",{className:"w-full mt-16 px-8",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(f.A,{searchKeyWord:S}),(0,s.jsx)("div",{className:"h-5"}),(0,s.jsx)(l.A,{allTags:t}),(0,s.jsx)("div",{className:"mt-5"}),0!==o.length&&o.slice(E*(v-1),E*v).map((e,t)=>(0,s.jsx)(a.A,{postData:e,isPagenationPage:!1},t)),0===o.length&&(0,s.jsx)("div",{className:"text-xl",children:"カリキュラムが見つかりませんでした"})]})}),(0,s.jsx)(m.A,{numberOfPage:j,currentPage:v,setPage:b})]})})}},5721:e=>{function t(e,t){if((e=e.replace(/\s+/g,""))===(t=t.replace(/\s+/g,"")))return 1;if(e.length<2||t.length<2)return 0;let r=new Map;for(let t=0;t<e.length-1;t++){let s=e.substring(t,t+2),n=r.has(s)?r.get(s)+1:1;r.set(s,n)}let s=0;for(let e=0;e<t.length-1;e++){let n=t.substring(e,e+2),a=r.has(n)?r.get(n):0;a>0&&(r.set(n,a-1),s++)}return 2*s/(e.length+t.length-2)}e.exports={compareTwoStrings:t,findBestMatch:function(e,r){if("string"!=typeof e||!Array.isArray(r)||!r.length||r.find(function(e){return"string"!=typeof e}))throw Error("Bad arguments: First argument should be a string, second should be an array of strings");let s=[],n=0;for(let a=0;a<r.length;a++){let l=r[a],i=t(e,l);s.push({target:l,rating:i}),i>s[n].rating&&(n=a)}let a=s[n];return{ratings:s,bestMatch:a,bestMatchIndex:n}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[419,687,354,551,958,860,855,46,636,593,792],()=>t(1632)),_N_E=e.O()}]);