(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{98:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/progress",function(){return r(4554)}])},6944:(e,t,r)=>{"use strict";r.d(t,{DM:()=>l,O6:()=>a,Yh:()=>i,zY:()=>s});let a={title:"Home",id:"/posts"},s={title:"基礎班カリキュラム",id:"/posts/course/basic"},l={title:"検索",id:"/search"},i={title:"カリキュラム進捗度",id:"/user/progress"}},4554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(4848),s=r(6540);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...u}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:c?24*Number(l)/Number(a):l,className:i("lucide",d),...u},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:n,...d}=r;return(0,s.createElement)(c,{ref:a,iconNode:t,className:i("lucide-".concat(l(e)),n),...d})});return r.displayName="".concat(e),r},o=d("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),h=d("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=d("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=r(1988);let p=async e=>{let t=await fetch("".concat("https://horizon-atlas-railway-production.up.railway.app","/getDrivefile/").concat(e));return await t.json()};async function x(){return(await p("12ke9QhpI0icBvvCfk6Yyn7wKOeclF4_6OGdheopu-V8")).filter(e=>"TRUE"===e.published)}async function f(e){let t=await x();return await Promise.all(t.map(async t=>{let r=(await p(t.fileId)).filter(r=>r[t.userName]===e),a=t.curriculums.split("/"),s=r.map(r=>{let s=[];for(let l of a)r[l]!==t.notAchievedText&&r[t.userName]===e?s.push({title:l,achieved:!0}):r[l]===t.notAchievedText&&r[t.userName]===e&&s.push({title:l,achieved:!1});return s}).flat();return 0===s.length&&a.map(e=>{s.push({title:e,achieved:!1})}),{title:t.title,progress:s}}))}var g=r(3649),w=r(6944);function v(){let{user:e}=(0,m.WB)(),[t,r]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async function(){e&&(i(!0),r(await f(e.name.split("-")[0])),i(!1))})()},[e]),(0,a.jsx)(g.A,{headerProps:{pageNavs:[w.O6,w.Yh]},children:(0,a.jsxs)("div",{className:"min-h-screen text-gray-900 bg-gradient-to-b from-blue-50 to-white pt-20 px-5",children:[(0,a.jsxs)("div",{className:"text-center mb-10 animate-fadeIn",children:[(0,a.jsxs)("h1",{className:"text-4xl font-extrabold text-neutral-600",children:[null==e?void 0:e.name.split("-")[0],"さんの進捗度"]}),(0,a.jsx)("div",{className:"w-40 mx-auto border-b-4 border-blue-400 mt-4"})]}),l?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(o,{className:"animate-spin text-blue-400",size:48}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"読み込み中..."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-8",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition-shadow",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-blue-600 mb-4",children:e.title}),e.progress.map((e,t)=>(0,a.jsx)(b,{...e},t))]},t))})]})})}let b=e=>{let{title:t,achieved:r}=e;return(0,a.jsx)("div",{className:"mt-3 p-3 rounded-lg ".concat(r?"bg-green-100 border-l-4 border-green-400":"bg-red-100 border-l-4 border-red-400"," hover:shadow-md transition-shadow"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,a.jsx)(h,{className:"text-green-500",size:24}):(0,a.jsx)(u,{className:"text-red-500",size:24}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:t})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[419,354,551,958,4,356,649,636,593,792],()=>t(98)),_N_E=e.O()}]);