(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{98:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/progress",function(){return r(9109)}])},6944:(e,t,r)=>{"use strict";r.d(t,{DM:()=>n,O6:()=>a,Yh:()=>l,zY:()=>i});let a={title:"Home",id:"/posts"},i={title:"基礎班カリキュラム",id:"/posts/course/basic"},n={title:"検索",id:"/search"},l={title:"カリキュラム進捗度",id:"/user/progress"}},3943:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(6540);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:o="",children:u,iconNode:p,...d}=e;return(0,a.createElement)("svg",{ref:t,...l,width:i,height:i,stroke:r,strokeWidth:c?24*Number(s)/Number(i):s,className:n("lucide",o),...d},[...p.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:c,...o}=r;return(0,a.createElement)(s,{ref:l,iconNode:t,className:n("lucide-".concat(i(e)),c),...o})});return r.displayName="".concat(e),r}},2955:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3943).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(4848),i=r(2955),n=r(3943);let l=(0,n.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),s=(0,n.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var c=r(1988),o=r(6540);let u=async e=>{let t=await fetch("".concat("https://horizon-atlas-railway-production.up.railway.app","/getDrivefile/").concat(e));return await t.json()},p=async(e,t,r)=>{let a=await fetch("".concat("https://horizon-atlas-railway-production.up.railway.app","/getDrivefile/").concat(e,"/userName/").concat(r,"/").concat(t));return await a.json()};async function d(){return(await u("12ke9QhpI0icBvvCfk6Yyn7wKOeclF4_6OGdheopu-V8")).filter(e=>"TRUE"===e.published)}async function m(e,t){return await Promise.all(e.map(async e=>{let r=await p(e.fileId,t,e.userName),a=e.curriculums.split("/"),i=r.map(r=>{let i=[];for(let n of a)r[n]!==e.notAchievedText&&r[e.userName]===t?i.push({title:n,achieved:!0}):r[n]===e.notAchievedText&&r[e.userName]===t&&i.push({title:n,achieved:!1});return i}).flat();return 0===i.length&&a.map(e=>{i.push({title:e,achieved:!1})}),{title:e.title,progress:i}}))}async function f(e,t){let r=Object.keys(e)[0],a=[];return await Promise.all(e[r].map(async e=>{let r=await p(e.fileId,t,e.userName);a.push({title:e.curriculums,achieved:0!==r.length})})),{title:r,progress:a}}async function h(e){let t=await d(),r=t.filter(e=>"summary"===e.type),a=await m(r,e);for(let r of Object.entries(t.filter(e=>"single"===e.type).reduce((e,t)=>(e[t.title]||(e[t.title]=[]),e[t.title].push(t),e),{})).map(e=>{let[t,r]=e;return{[t]:r}})){let t=await f(r,e);a.push(t)}return a}var y=r(2855),b=r(6944);function v(){let{user:e}=(0,c.WB)(),[t,r]=(0,o.useState)([]),[n,l]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async function(){e&&(l(!0),r(await h(e.name.split("-")[0])),l(!1))})()},[e]),(0,a.jsx)(y.A,{pageNavs:[b.O6,b.Yh],children:(0,a.jsxs)("div",{className:"min-h-screen text-gray-900 pt-24 px-5",children:[(0,a.jsxs)("div",{className:"text-center mb-10 animate-fadeIn",children:[(0,a.jsxs)("h1",{className:"text-4xl font-extrabold text-neutral-600",children:[null==e?void 0:e.name.split("-")[0],"さんの進捗度"]}),(0,a.jsx)("div",{className:"w-40 mx-auto border-b-4 border-purple-400 mt-4"})]}),n?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(i.A,{className:"animate-spin text-purple-400",size:48}),(0,a.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"読み込み中..."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-8",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition-shadow",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-neutral-500 mb-4",children:e.title}),e.progress.map((e,t)=>(0,a.jsx)(g,{...e},t))]},t))})]})})}let g=e=>{let{title:t,achieved:r}=e;return(0,a.jsx)("div",{className:"mt-3 p-3 rounded-lg ".concat(r?"bg-purple-100 border-l-4 border-purple-500":"bg-gray-100 border-l-4 border-gray-400"," hover:shadow-md transition-shadow"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[r?(0,a.jsx)(l,{className:"text-purple-700",size:24}):(0,a.jsx)(s,{className:"text-gray-500",size:24}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:t})]})})}},3368:(e,t,r)=>{e.exports=r(6085)},5787:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var a=r(6540),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(i),l=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var a,i;a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>a.createElement(p,s({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,o({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:i,size:n,title:c}=e,u=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,l),p=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(i)}},9836:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var a=r(6540);let i=e=>{let t;let r=new Set,a=(e,a)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=a?a:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,n={setState:a,getState:i,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(a,i,n);return n},n=e=>e?i(e):i,l=e=>e,s=e=>{let t=n(e),r=e=>(function(e,t=l){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>e?s(e):s}},e=>{var t=t=>e(e.s=t);e.O(0,[419,687,354,551,958,860,855,636,593,792],()=>t(98)),_N_E=e.O()}]);