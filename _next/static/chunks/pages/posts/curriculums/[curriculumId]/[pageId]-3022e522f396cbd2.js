(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{1420:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/curriculums/[curriculumId]/[pageId]",function(){return l(8002)}])},8918:(e,t,l)=>{"use strict";l.d(t,{s:()=>r});let r=async(e,t)=>{let l=await fetch("/horizon-atlas/notion_data/eachPage/".concat(t,"/pageImageData/").concat(e,".json")),r=await l.json();if(r.icon){if("file"===r.icon.type){if(r.icon.file)return{type:"file",url:r.icon.file.url.replace("./public","/horizon-atlas")}}else if("external"===r.icon.type){if(r.icon.external)return{type:"external",url:r.icon.external.url}}else if("emoji"===r.icon.type&&r.icon.emoji)return{type:"emoji",url:r.icon.emoji}}return{type:"",url:"/horizon-atlas/file_icon.svg"}}},8002:(e,t,l)=>{"use strict";l.r(t),l.d(t,{__N_SSG:()=>G,default:()=>J});var r=l(4848),s=l(6540),n=l(1106),i=l.n(n);let a=[{type:"link",regex:/\[([^\]]+)\]\(([^\)]+)\)/g},{regex:/\*\*(.*?)\*\*/g,type:"bold",remove:/\*\*/g},{regex:/`([^`]+)`/g,type:"code",remove:/`/g},{regex:/__(.*?)__/g,type:"italic",remove:/__/g},{type:"underline",regex:/<u>(.*?)<\/u>/g,remove:/<\/?u>/g}];function c(e){let t=[],l=0,r=!1;for(let{regex:s,type:n,remove:i}of a){let a;for(s.lastIndex=0,r=!1;null!==(a=s.exec(e.text));){r=!0,l<a.index&&t.push({text:e.text.slice(l,a.index),type:[...e.type,"plain"],link:[...e.link]});let c=a[1],o={text:"link"===n?c:c.replace(i,""),type:[...e.type,n],link:"link"===n?[...e.link,a[2]]:[...e.link]};t.push(o),l=s.lastIndex}if(r)break}return r?(l<e.text.length&&t.push({text:e.text.slice(l),type:[...e.type,"plain"],link:[...e.link]}),t.flatMap(e=>c(e))):(t.push({text:e.text,type:[...e.type,"plain"],link:[...e.link]}),t)}function o(e){let t=[];for(let l of e.type)switch(l){case"bold":t.push({fontWeight:700});case"italic":t.push({fontStyle:"italic"});break;case"code":t.push({backgroundColor:"rgb(235, 235, 235)",color:"rgb(244,63,94)",paddingLeft:4,paddingRight:4,borderRadius:4});break;case"underline":t.push({textDecorationLine:"underline"})}return Object.assign({},...t)}function d(e){let{parent:t,mdBlock:l,depth:n,quote:a}=e,[d,u]=(0,s.useState)([]);return((0,s.useEffect)(()=>{u(c({text:t,type:[],link:[]}))},[l]),"c"===l.parent)?null:(0,r.jsxs)("div",{className:"mb-0.5 mt-1",id:l.blockId,children:[(0,r.jsx)("p",{children:d.map((e,t)=>{let l=o(e);return 0===e.link.length?(0,r.jsx)("span",{style:l,children:e.text},t):""===e.link[0]?(0,r.jsx)("span",{style:l,children:(0,r.jsx)("span",{className:"text-neutral-500 underline",children:e.text})},t):(0,r.jsx)("span",{style:l,children:(0,r.jsx)(i(),{href:e.link[0],className:"text-neutral-500 underline cursor-pointer hover:text-neutral-800",children:e.text})},t)})}),(!1===a||void 0===a)&&0!==l.children.length&&l.children.map((e,t)=>(0,r.jsx)("div",{children:(0,r.jsx)(O,{mdBlock:e,depth:n+1})},t))]})}function u(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)([]),i=t.parent.slice(2);return(0,s.useEffect)(()=>{n(c({text:i,type:[],link:[]}))},[t]),(0,r.jsx)("div",{id:t.blockId,children:(0,r.jsx)("h1",{className:"mb-1 mt-8 font-bold text-3xl",children:l.map((e,t)=>{let l=o(e);return(0,r.jsx)("span",{style:l,children:e.text},t)})})})}function m(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)([]),i=t.parent.slice(3);return(0,s.useEffect)(()=>{n(c({text:i,type:[],link:[]}))},[t]),(0,r.jsx)("div",{id:t.blockId,children:(0,r.jsx)("h2",{className:"mb-1 mt-6 font-bold text-2xl",children:l.map((e,t)=>{let l=o(e);return(0,r.jsx)("span",{style:l,children:e.text},t)})})})}function p(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)([]),i=t.parent.slice(4);return(0,s.useEffect)(()=>{n(c({text:i,type:[],link:[]}))},[t]),(0,r.jsx)("div",{id:t.blockId,children:(0,r.jsx)("h3",{className:"my-2 mt-4 font-bold text-xl",children:l.map((e,t)=>{let l=o(e);return(0,r.jsx)("span",{style:l,children:e.text},t)})})})}function h(e){let{mdBlock:t}=e;return(0,r.jsx)("div",{id:t.blockId,children:(0,r.jsx)("div",{className:"border-neutral-300 border-b size-full my-2"})})}var x=l(7725),g=l(2982),j=l(7795),f=l(1583);function b(e){let{mdBlock:t}=e,l=t.parent.split("\n"),n="";for(let e=1;e<l.length-1;e++)(n+=(1===e?"":"\n")+l[e]).match(/\*\*(.*?)\*\*/g)&&(n=n.replace(/\*\*/g,""));let i=l[0].slice(3),[a,c]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),u=async()=>{try{await navigator.clipboard.writeText(n),c(!0),setTimeout(()=>c(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return(0,r.jsxs)("div",{id:t.blockId,className:"mb-2 mt-2 relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,r.jsxs)("div",{className:"mb-0",style:{backgroundColor:"rgb(250,250,250)"},children:[(0,r.jsx)("p",{children:(0,r.jsx)("span",{className:"text-neutral-600 text-sm px-3 py-1 rounded",style:{background:"rgb(235, 235, 235)"},children:i})}),(0,r.jsx)("button",{onClick:u,className:"h-5 absolute top-1 right-2 px-2 text-sm rounded transition-opacity duration-200 ".concat(o?"opacity-100":"opacity-0"),children:a?(0,r.jsxs)("span",{className:"text-purple-500 flex",children:["copied ! ",(0,r.jsx)(f.CMH,{size:24})]}):(0,r.jsx)(j.$G0,{size:24,className:"text-neutral-400 hover:text-neutral-500"})})]}),(0,r.jsx)(g.A,{style:x.KQ,language:i,children:String(n).replace(/\n$/,"")})]})}function y(e){let{mdBlock:t,depth:l}=e,s=t.parent.split(" "),n=s.slice(1).join("");return(0,r.jsxs)("div",{className:"my-1.5",id:t.blockId,children:[(0,r.jsxs)("p",{className:"flex",children:[(0,r.jsx)("span",{className:"mr-2",children:s[0]}),(0,r.jsx)(d,{quote:!0,mdBlock:t,parent:n,depth:l+1})]}),t.children.map((e,t)=>(0,r.jsx)("div",{style:{marginLeft:(l+1)*16},children:(0,r.jsx)(O,{mdBlock:e,depth:l+1})},t))]})}function k(e){let{mdBlock:t,depth:l}=e,s=t.parent.split(" ").slice(1).join("");return(0,r.jsxs)("div",{id:t.blockId,children:[(0,r.jsxs)("p",{className:"my-2 flex",children:[(0,r.jsx)("span",{className:"font-bold mr-1 text-xl",children:"・"}),(0,r.jsx)(d,{quote:!0,parent:s,depth:l+1,mdBlock:t})]}),t.children.map((e,t)=>(0,r.jsx)("div",{style:{marginLeft:(l+1)*16},children:(0,r.jsx)(O,{mdBlock:e,depth:l+1})},t))]})}let v=e=>{if("default_background"===e);else if("gray_background"===e)return{backgroundColor:"rgb(248, 248, 247)"};else if("brown_background"===e)return{backgroundColor:"rgb(244, 238, 238)"};else if("orange_background"===e)return{backgroundColor:"rgb(251, 236, 221)"};else if("yellow_background"===e)return{backgroundColor:"rgb(251, 243, 219)"};else if("green_background"===e)return{backgroundColor:"rgb(237, 243, 236)"};else if("blue_background"===e)return{backgroundColor:"rgb(231, 243, 248)"};else if("purple_background"===e)return{backgroundColor:"rgb(248, 243, 252)"};else if("pink_background"===e)return{backgroundColor:"rgb(252, 241, 246)"};else if("red_background"===e)return{backgroundColor:"rgb(253, 235, 236)"};return{backgroundColor:"white",borderWidth:"1px",borderColor:"rgb(212 212 212)"}};var w=l(9965),N=l.n(w);function _(e){var t;let{mdBlock:l,depth:s}=e,n=JSON.parse(l.parent),i=n.parent.split("> ")[1];(null===(t=n.icon)||void 0===t?void 0:t.emoji)&&(i=i.replace(n.icon.emoji,""));let a=n.icon,c=v(n.color);return l.children.length>0&&i.includes(l.children[0].parent)?(0,r.jsxs)("div",{className:"p-2 px-3 mb-3 mt-4 rounded relative",id:l.blockId,style:c,children:[(0,r.jsxs)("div",{className:"absolute top-2 left-2",children:[a&&"emoji"===a.type&&(0,r.jsx)("p",{className:"text-xl relative left-1",children:a.emoji}),a&&"emoji"!==a.type&&a.external&&(0,r.jsx)(N(),{src:a.external.url,alt:"",width:20,height:20,className:"w-5 h-5 m-0.5 top-0.5"})]}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)(d,{mdBlock:l,quote:!0,parent:i.replaceAll("#",""),depth:s}),l.children.slice(1).map((e,t)=>(0,r.jsx)("div",{className:"ml-2 mt-0.5",children:(0,r.jsx)(O,{mdBlock:e,depth:s+1})},t))]})]}):(0,r.jsxs)("div",{className:"p-2 px-3 mb-3 mt-4 rounded relative",id:l.blockId,style:c,children:[(0,r.jsxs)("div",{className:"absolute top-2 left-2",children:[a&&"emoji"===a.type&&(0,r.jsx)("p",{className:"text-xl relative left-1",children:a.emoji}),a&&"emoji"!==a.type&&a.external&&(0,r.jsx)(N(),{src:a.external.url,alt:"",width:20,height:20,className:"w-5 h-5 m-0.5 top-0.5"})]}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)(d,{mdBlock:l,quote:!0,parent:i,depth:s}),l.children.map((e,t)=>(0,r.jsx)("div",{className:"ml-2 mt-0.5",children:(0,r.jsx)(O,{mdBlock:e,depth:s+1},t)},t))]})]})}function I(e){let{mdBlock:t,depth:l}=e,s=t.parent.split(" ")[1];return(0,r.jsxs)("div",{className:"my-1 border-l-2 border-neutral-800 pl-3",id:t.blockId,children:[(0,r.jsx)(d,{mdBlock:t,quote:!0,parent:s,depth:l+1}),t.children.map((e,t)=>(0,r.jsx)(O,{mdBlock:e,depth:l+1},t))]})}var B=l(633),S=l(7037),E=l(9160);function C(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)(null),[i,a]=(0,s.useState)(!1),[c,o]=(0,s.useState)(!1),{curriculumId:d}=(0,B.A)();return((0,s.useEffect)(()=>{let e=async e=>{let l="/horizon-atlas/notion_data/eachPage/".concat(d,"/image/").concat(t.blockId,".").concat(e);try{(await fetch(l,{method:"HEAD"})).ok&&n(l)}catch(e){console.error("画像の取得に失敗: ".concat(l),e)}};(async()=>{await e("png"),l||(await e("jpg"),l||await e("gif"))})()},[t.blockId,d]),l)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:t.blockId,className:"relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[(0,r.jsx)("img",{height:200,width:200,src:l,alt:"image_block",style:{width:"auto",height:"100%",display:"block",maxHeight:"350px",cursor:"pointer"},onClick:()=>a(!0)}),(0,r.jsx)("button",{onClick:()=>a(!0),className:"absolute top-1 right-1 bg-neutral-800 bg-opacity-60 text-white hover:bg-opacity-100 p-1 rounded-md shadow-md border border-gray-300",style:{backdropFilter:"blur(5px)",opacity:c?"100%":"0%"},children:(0,r.jsx)(S.z0S,{size:17})})]}),i&&(0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",onClick:()=>a(!1),children:[(0,r.jsx)("div",{className:"relative bg-white p-2 rounded-lg",onClick:e=>e.stopPropagation(),children:(0,r.jsx)("div",{className:"overflow-auto",style:{maxWidth:"90vw",maxHeight:"90vh",touchAction:"none"},children:(0,r.jsx)("img",{src:l,alt:"image_block_large",style:{width:"80vw",height:"auto"}})})}),(0,r.jsx)("button",{className:"flex absolute top-5 right-7 text-white rounded-md px-0.5",onClick:()=>a(!1),children:(0,r.jsx)(E.j55,{size:25})})]})]}):null}function L(e){let{mdBlock:t}=e,l=t.parent.split("|\n|").map(e=>e.slice(1,-1));return(0,r.jsx)("div",{className:"overflow-x-auto whitespace-nowrap my-2",id:t.blockId,children:(0,r.jsx)("table",{className:"table-auto border-collapse border border-neutral-300",children:l.map((e,t)=>{let l=e.split(" | ");return(0,r.jsx)("tr",{children:l.map((e,l)=>{if(0===t){let t=c({text:e,type:[],link:[]});return(0,r.jsx)("th",{className:"border border-gray-300 bg-neutral-100 px-4 py-2",children:t.map((e,t)=>{let l=o(e);return(0,r.jsxs)(r.Fragment,{children:["\n"===e.text&&(0,r.jsx)("br",{}),(0,r.jsx)("span",{style:l,children:e.text},t)]})})},l)}if(1===t)return null;{let t=c({text:e,type:[],link:[]});return console.log("md",t),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:t.map((e,t)=>{let l=o(e);return(0,r.jsxs)(r.Fragment,{children:["\n"===e.text&&(0,r.jsx)("br",{}),(0,r.jsx)("span",{style:l,children:e.text},t)]})})},l)}})},t)})})})}var z=l(8918);function U(e){let{mdBlock:t}=e,l=t.parent.split("## ")[1],n=t.blockId,{curriculumId:a}=(0,B.A)(),[c,o]=(0,s.useState)({type:"",url:""}),d="/posts/curriculums/".concat(a,"/").concat(n);return(0,s.useEffect)(()=>{(async function(){o(await (0,z.s)(n,a))})()},[n,a,t.blockId]),(0,r.jsx)(i(),{href:d,id:t.blockId,children:(0,r.jsxs)("div",{className:" my-0.5 py-1 px-0.5 hover:bg-neutral-100 cursor-pointer text-neutral-500 flex",children:["emoji"!==c.type&&(0,r.jsx)(N(),{src:c.url,alt:l,width:20,height:20,className:"relative w-5 h-5 m-0 mr-1"}),"emoji"===c.type&&(0,r.jsx)("p",{className:"relative w-5 h-5 m-0 mr-1 align-middle ml-0.5",children:c.url}),(0,r.jsx)("span",{className:"underline",children:l})]})})}function A(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)(),a=t.parent.match(/\((.*?)\)/g),{curriculumId:c}=(0,B.A)();if((0,s.useEffect)(()=>{(async()=>{var e,l;let r=await fetch("/horizon-atlas/notion_data/eachPage/".concat(c,"/ogsData/").concat(t.blockId,".json")),s=await r.json();if(console.log((null===(e=s.favicon)||void 0===e?void 0:e.slice(0,8))==="https://"),(null===(l=s.favicon)||void 0===l?void 0:l.slice(0,8))!=="https://"){let e=s.ogUrl;a&&(e=a[0].slice(1,-1));let t=new URL(e).origin,l=s.favicon;void 0!==l&&"/"!==l[0]&&(l="/"+l);let r=void 0!==s.favicon?t+l:void 0;n({ogTitle:s.ogTitle,ogDescription:s.ogDescription,ogSiteName:s.ogSiteName,ogLocale:s.ogLocale,favicon:r,ogUrl:s.ogUrl,ImageUrl:s.ImageUrl})}else n(s)})()},[c]),a)return(0,r.jsx)("div",{className:"my-2 rounded-sm border-2 border-neutral-200 hover:bg-neutral-100",id:t.blockId,children:(0,r.jsx)(i(),{href:l&&l.ogUrl?l.ogUrl:a[0].slice(1,-1),target:"_brank",rel:"noopener noreferrer",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("div",{className:"m-3",children:[(0,r.jsx)("p",{className:"text-neutral-800 line-clamp-1",children:l&&l.ogTitle?l.ogTitle:a[0].slice(1,-1)}),(0,r.jsx)("p",{className:"text-neutral-500 text-sm line-clamp-2",children:l&&l.ogDescription?l.ogDescription:""}),(0,r.jsxs)("div",{className:"flex mb-0 mt-2",children:[l&&void 0!==l.favicon&&(0,r.jsx)("img",{src:l.favicon,className:"w-auto max-h-4 rounded-full m-0 mr-2",alt:"pageIcon"}),(0,r.jsx)("span",{className:"text-neutral-600 text-xs line-clamp-1",children:l&&l.ogUrl?l.ogUrl:a[0].slice(1,-1)})]})]}),l&&void 0!==l.ImageUrl&&void 0!==l.ImageUrl&&(0,r.jsx)("div",{className:"p-0 m-0",style:{lineHeight:0},children:(0,r.jsx)("img",{src:l.ImageUrl,className:"w-96 h-28 rounded-sm lg:w-72",alt:"pageImage"})})]})})})}function F(e){let{mdBlock:t,depth:l}=e,[n,i]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"my-1 border-neutral-800 pl-1.5 bg-neutral-100",id:t.blockId,children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{className:"text-left space-x-1 p-1 rounded-lg hover:bg-neutral-200 transition",onClick:()=>i(!n),children:n?"▼":"▶︎"}),(0,r.jsx)(d,{mdBlock:t,quote:!0,parent:t.parent,depth:l+1})]}),n&&t.children.map((e,t)=>(0,r.jsx)(O,{mdBlock:e,depth:l+1},t))]})}let P=function(e){let{mdBlock:t}=e,l=t.parent.match(/\((.*?)\)/g),[n,i]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[o,d]=(0,s.useState)("500px"),u=(0,s.useRef)(null),{curriculumId:m}=(0,B.A)();if((0,s.useEffect)(()=>{(async function(){let e=await fetch("/horizon-atlas/notion_data/eachPage/".concat(m,"/iframeData/").concat(t.blockId,".json")),l=await e.json();i(l.html),c(l.title)})()},[t.blockId,m]),(0,s.useEffect)(()=>{if(l&&"Flet"===a){let e=e=>{var t;"https://flet-samples.fly.dev"===e.origin&&(null===(t=e.data)||void 0===t?void 0:t.height)&&d("".concat(e.data.height,"px"))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[a]),l&&"Flet"===a){let e=l[0].slice(1,-1);return(0,r.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mx-1.5 my-1.5",id:t.blockId,children:(0,r.jsx)("iframe",{src:e,ref:u,style:{width:"100%",height:o,border:"none",overflow:"hidden"},allowFullScreen:!0})})}return console.log("html",n),(0,r.jsx)("div",{className:"mx-1.5 my-1.5",id:t.blockId,children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})})};var H=l(3877);function D(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[o,d]=(0,s.useState)({type:"",url:""});return(0,s.useEffect)(()=>{(async function(){let e=t.parent.match(/\[([^\]]+)\]/g);e&&c(e[0].slice(1,-1));let l=t.parent.match(/\(([^)]+)\)/g);if(l){let e=l[0].slice(1,-1);n(e);let t=e.split("/")[4],r=e.split("/")[3];d(await (0,z.s)(t,r))}})()},[t.blockId]),(0,r.jsxs)(i(),{href:l,target:"_brank",rel:"noopener noreferrer",className:"my-2 flex hover:bg-neutral-100 hover:text-neutral-600 p-0.5",id:t.blockId,children:[(0,r.jsxs)("div",{className:"relative m-0 ml-0.5 mr-1.5 bottom-0.5",children:["emoji"!==o.type&&(0,r.jsx)(N(),{src:o.url,alt:a,width:20,height:20,className:"relative w-5 h-5 m-0 mr-1"}),"emoji"===o.type&&(0,r.jsx)("p",{className:"relative w-5 h-5 m-0 mr-1 align-middle ml-0.5",children:o.url}),(0,r.jsx)(H.lt,{size:18,className:"absolute w-4 h-auto text-neutral-700 right-[-2.3px] bottom-[-3px] stroke-1 stroke-white",style:{clipPath:"inset(1px 1px 1px 1px)"}})]}),(0,r.jsx)("span",{className:"text-neutral-500 underline",children:a})]})}let T=function(e){let{mdBlock:t}=e,[l,n]=(0,s.useState)([]);(0,s.useEffect)(()=>{n(JSON.parse(t.parent).headingList)},[t]);let i=e=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return(0,r.jsx)("div",{id:t.blockId,className:"w-full",children:l.map((e,t)=>(0,r.jsxs)("div",{onClick:()=>i(e.blockId),className:"mt-0.5 w-full py-1 rounded-md cursor-pointer hover:bg-neutral-100",children:[1===e.type&&(0,r.jsx)("p",{className:"ml-0.5 text-neutral-500 underline",children:e.parent.slice(2)}),2===e.type&&(0,r.jsx)("p",{className:"ml-5 mt-1 text-neutral-500 underline",children:e.parent.slice(3)}),3===e.type&&(0,r.jsx)("p",{className:"ml-8 text-neutral-500 underline",children:e.parent.slice(4)})]},t))})},M=function(e){let{mdBlock:t,depth:l}=e,s=t.children;return(0,r.jsx)("div",{className:"md:flex",id:t.blockId,children:s.map((e,t)=>(0,r.jsx)("div",{className:"md:flex-1 md:px-2",children:e.children.map((e,t)=>(0,r.jsx)(O,{mdBlock:e,depth:l},t))},t))})};function q(e){let{mdBlock:t,depth:l}=e,[n,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{d(c({text:t.parent.slice(6),type:[],link:[]}))},[t]),(0,s.useEffect)(()=>{i("x"===t.parent.slice(2)[1])},[t.parent]),(0,r.jsxs)("div",{className:"my-1 border-neutral-800 pl-1.5",id:t.blockId,children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:e=>{i(e.target.checked)}}),(0,r.jsx)(r.Fragment,{children:a.map((e,t)=>{let l=o(e);return(0,r.jsx)("p",{style:l,className:n?"line-through text-neutral-500":"",children:e.text},t)})})]}),t.children.map((e,t)=>(0,r.jsx)(O,{mdBlock:e,depth:l+1},t))]})}function O(e){let{mdBlock:t,depth:l}=e;if("paragraph"===t.type)return(0,r.jsx)(d,{parent:t.parent,mdBlock:t,depth:l});if("heading_1"===t.type)return(0,r.jsx)(u,{mdBlock:t,depth:l});if("heading_2"===t.type)return(0,r.jsx)(m,{mdBlock:t,depth:l});if("heading_3"===t.type)return(0,r.jsx)(p,{mdBlock:t,depth:l});if("divider"===t.type)return(0,r.jsx)(h,{mdBlock:t});if("code"===t.type)return(0,r.jsx)(b,{mdBlock:t,depth:l});if("numbered_list_item"===t.type)return(0,r.jsx)(y,{mdBlock:t,depth:l});else if("bulleted_list_item"===t.type)return(0,r.jsx)(k,{mdBlock:t,depth:l});else if("callout"===t.type)return(0,r.jsx)(_,{mdBlock:t,depth:l});else if("quote"===t.type)return(0,r.jsx)(I,{mdBlock:t,depth:l});else if("image"===t.type)return(0,r.jsx)(C,{mdBlock:t,depth:l});else if("table"===t.type)return(0,r.jsx)(L,{mdBlock:t});else if("child_page"===t.type)return(0,r.jsx)(U,{mdBlock:t});else if("bookmark"===t.type)return(0,r.jsx)(A,{mdBlock:t,depth:l});else if("toggle"===t.type)return(0,r.jsx)(F,{mdBlock:t,depth:l});else if("embed"===t.type)return(0,r.jsx)(P,{mdBlock:t,depth:l});else if("link_to_page"===t.type)return(0,r.jsx)(D,{mdBlock:t});else if("table_of_contents"===t.type)return(0,r.jsx)(T,{mdBlock:t});else if("column_list"===t.type)return(0,r.jsx)(M,{mdBlock:t,depth:l});else if("to_do"===t.type)return(0,r.jsx)(q,{mdBlock:t,depth:l});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{})})}var W=l(2855);let R=e=>{let{title:t,childPages:l}=e,{curriculumId:n}=(0,B.A)(),[a,c]=(0,s.useState)(window.scrollY),[o,d]=(0,s.useState)({width:window.innerWidth,height:window.innerHeight});(0,s.useEffect)(()=>{let e=()=>{d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let u=()=>Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);return(0,s.useEffect)(()=>{let e=()=>{c(window.scrollY)};return window.addEventListener("scroll",e),e(),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.jsx)("section",{className:"w-1/4 pl-4 fixed right-0",style:{top:a>u()-720?"".concat(u()-720-a+128,"px"):"128px"},children:(0,r.jsxs)("div",{className:"border fixed overflow-y-scroll scrollbar-thin py-4 rounded-md bg-white",style:{opacity:"100",height:"".concat(o.height/1.75,"px"),width:"".concat(o.width/5,"px")},children:[(0,r.jsx)("p",{className:"truncate text-sm px-1",children:t}),(0,r.jsx)("div",{className:"pl-3",children:l.map((e,t)=>(0,r.jsx)("div",{className:"p-0.5 mt-1 cursor-pointer w-48 hover:bg-neutral-100",style:{width:"".concat(o.width/5,"px")},children:(0,r.jsx)(i(),{href:"/posts/curriculums/".concat(n,"/").concat(e.id),className:"text-sm text-neutral-500 underline truncate",children:(0,r.jsx)("p",{children:e.title})})},t))})]})})};var G=!0;let J=e=>{let{metadata:t,mdBlocks:l,pageNavs:n,childrenData:i,pageId:a,title:c}=e,{setCurriculumId:o}=(0,B.A)(),[d,u]=(0,s.useState)({type:"",url:""});return(0,s.useEffect)(()=>{o(t.curriculumId)},[t.curriculumId]),(0,s.useEffect)(()=>{(async function(){let e=await (0,z.s)(a,t.curriculumId);console.log("icon",e),u(e)})()},[a,t.curriculumId]),(0,r.jsxs)(W.A,{pageNavs:n,sideNavProps:i,children:[(0,r.jsxs)("div",{className:"p-4 pt-24 pb-8",children:[(0,r.jsxs)("section",{className:i?"p-5 bg-white pb-10 md:w-3/4":"p-5 bg-white pb-10",children:[(0,r.jsxs)("div",{className:"flex",children:["emoji"!==d.type&&(0,r.jsx)(N(),{src:d.url,alt:"",width:20,height:20,className:"relative w-auto h-8 m-0 mr-2 top-0.5"}),"emoji"===d.type&&(0,r.jsx)("p",{className:"relative w-auto h-8 m-0 mr-2 top-0.5 text-3xl",children:d.url}),(0,r.jsx)("h2",{className:"w-full text-2xl font-medium",children:c})]}),(0,r.jsx)("div",{className:"border-b mt-2"}),a===t.curriculumId&&(0,r.jsx)(r.Fragment,{children:t.tags.map((e,t)=>(0,r.jsx)("p",{className:"text-white bg-sky-500 rounded-xl font-medium mt-2 px-2 inline-block mr-2",children:e},t))}),(0,r.jsx)("div",{className:"mt-4 font-medium",children:(0,r.jsx)("div",{children:l.map(e=>(0,r.jsx)(O,{mdBlock:e,depth:0},e.blockId))},a)})]}),i&&(0,r.jsx)("div",{className:"hidden md:block md:w-1/4 mt-5",children:(0,r.jsx)(R,{title:i.title,childPages:i.childPages})})]}),(0,r.jsx)("script",{async:!0,src:"//cdn.iframe.ly/embed.js"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[419,687,354,551,958,42,627,563,860,458,855,636,593,792],()=>t(1420)),_N_E=e.O()}]);