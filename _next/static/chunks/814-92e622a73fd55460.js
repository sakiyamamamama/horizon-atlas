"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{4814:(e,s,t)=>{t.d(s,{A:()=>S});var r=t(74848),l=t(96540),n=t(13368),a=t.n(n),i=t(29965),c=t.n(i);let d=()=>(0,r.jsxs)("footer",{className:"bg-gray-700 text-white py-8",children:[(0,r.jsx)("div",{className:"container text-5xl mx-auto gap-4 mb-5",children:"Horizon"}),(0,r.jsxs)("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-lg mb-2",children:"About Us"}),(0,r.jsx)("p",{children:"Learn more about our mission and values."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Quick Links"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/about",className:"hover:underline",children:"About"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/contact",className:"hover:underline",children:"Contact"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/privacy",className:"hover:underline",children:"Privacy Policy"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Follow Us"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("a",{href:"https://twitter.com","aria-label":"Twitter",className:"mt-1",children:(0,r.jsx)(c(),{src:"/x-social-media-logo-icon.svg",alt:"X-icon",width:10,height:10,className:"w-8 h-8"})}),(0,r.jsx)("a",{href:"https://facebook.com","aria-label":"Facebook",children:(0,r.jsx)(c(),{src:"/Instagram-Logo.wine.svg",alt:"Instagram-icon",width:10,height:10,className:"w-10 h-10"})})]})]})]}),(0,r.jsx)("p",{className:"text-center mt-4",children:"\xa92024 RyukokuHorizon."})]});var o=t(33013),u=t(86715),h=t.n(u);function x(){let{data:e}=(0,o.useSession)(),[s,t]=(0,l.useState)(!1),n=(0,l.useRef)(null),a=(0,l.useRef)(null);if((0,l.useEffect)(()=>{let e=e=>{let s=e.target;a.current&&!a.current.contains(s)&&n.current&&!n.current.contains(s)&&t(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),e){var i,d;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"max-w-md",children:[(0,r.jsx)("div",{id:"toggle",ref:n,onClick:e=>{e.stopPropagation(),t(e=>!e)},className:"cursor-pointer flex rounded-lg shadow-lx  hover:translate-y-1 hover:opacity-85 duration-200",children:(0,r.jsx)(c(),{src:(null===(i=e.user)||void 0===i?void 0:i.image)?null===(d=e.user)||void 0===d?void 0:d.image:"/user_icon.png",alt:"UserIcon",width:10,height:10,className:"h-auto w-9 rounded-full"})}),s&&(0,r.jsx)("div",{id:"toggleTarget",ref:a,className:"z-50 border-solid border-neutral-300 border-2 absolute bg-white p-2 rounded-md w-32 translate-y-1 translate-x-[-65%]",children:(0,r.jsx)("ul",{children:(0,r.jsx)("button",{onClick:()=>(0,o.signOut)(),className:"flex relative hover:bg-slate-200 rounded-sm p-1 pr-2",children:(0,r.jsx)("p",{className:"text-neutral-600",children:"ログアウト"})})})}),(0,r.jsx)("div",{})]})})}return(0,r.jsx)("div",{})}var m=t(91106),j=t.n(m),g=t(94650);let p=function(e){let{searchKeyWord:s}=e,[t,n]=(0,l.useState)(s),[a,i]=(0,l.useState)(!1);return(0,r.jsxs)("section",{className:"flex bg-white rounded-md mt-1",children:[(0,r.jsx)("input",{value:t,onChange:e=>{n(e.target.value)},onKeyDown:e=>{a||"Enter"!==e.key||h().push({pathname:"/search",query:{search:t}})},onCompositionStart:()=>i(!0),onCompositionEnd:()=>i(!1),type:"text",className:"w-full py-1 rounded text-neutral-600 bg-neutral-100 px-2 focus:outline-none focus:bg-slate-100 duration-300",placeholder:"キーワードで検索"}),(0,r.jsx)("button",{onClick:()=>{h().push({pathname:"/search",query:{search:t}})},children:(0,r.jsx)(g.Mmj,{size:25,className:"text-white bg-neutral-300 w-10 h-8 rounded-r py-0.5"})})]})},f=function(e){let{setOpenSide:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{onClick:()=>s(!0),className:"flex flex-col gap-1.5 w-7 h-7 mt-2",children:[(0,r.jsx)("span",{className:"border border-neutral-500 w-7"}),(0,r.jsx)("span",{className:"border border-neutral-500 w-7"}),(0,r.jsx)("span",{className:"border border-neutral-500 w-7"})]})})};function v(e){let{searchKeyWord:s,setOpenbar:t}=e;return(0,r.jsx)("header",{className:"w-full pb-1 bg-white",children:(0,r.jsxs)("div",{className:" text-white px-5 mb-0 flex justify-between items-center",children:[(0,r.jsx)(j(),{href:"/posts",className:"text-2xl mt-3 mb-0 font-medium text-neutral-400 rounded-md",children:"HorizonAtlas"}),(0,r.jsxs)("ul",{className:"hidden md:flex items-center text-sm pt-2 duration-100",children:[(0,r.jsx)("li",{className:"mr-4",children:(0,r.jsx)(p,{searchKeyWord:s||""})}),(0,r.jsx)("li",{children:(0,r.jsx)(x,{})})]}),(0,r.jsx)("ul",{className:"flex md:hidden items-center text-sm pt-2",children:(0,r.jsx)("li",{children:(0,r.jsx)(f,{setOpenSide:t})})})]})})}let N=function(e){let{pageNav:s}=e,[t,n]=(0,l.useState)(!1),a=(0,l.useRef)(null),i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=e=>{let s=e.target;i.current&&!i.current.contains(s)&&a.current&&!a.current.contains(s)&&n(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:a,className:"mr-2 px-1 hover:bg-neutral-200",children:(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>!e)},className:"text-neutral-500",children:"..."})}),t&&(0,r.jsx)("div",{id:"toggleTarget",ref:i,className:"absolute bg-white p-2 rounded-xl translate-y-[45%] translate-x-[40%] shadow-2xl",children:s.map((e,s)=>(0,r.jsx)(j(),{href:e.id,className:"z-50",children:(0,r.jsx)("p",{className:"hover:bg-neutral-200 text-neutral-500 text-sm",children:e.title})},s))})]})},b=function(e){let{pageNavs:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:"pl-4 bg-white duration-100 pt-1",children:[s.length>3&&(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(j(),{href:s[0].id,className:"pr-2 hover:bg-neutral-200 text-neutral-500",children:s[0].title}),(0,r.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,r.jsx)(N,{pageNav:s.slice(1,-2)}),(0,r.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,r.jsxs)(j(),{href:s[s.length-2].id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[s[s.length-2].title.slice(0,8),s[s.length-2].title.length>8&&(0,r.jsx)("span",{children:"..."})]}),(0,r.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,r.jsxs)(j(),{href:s[s.length-1].id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[s[s.length-1].title.slice(0,8),s[s.length-1].title.length>8&&(0,r.jsx)("span",{children:"..."})]})]})}),s.length<=3&&(0,r.jsx)("div",{className:"flex",children:s.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-1.5",children:[(0,r.jsxs)(j(),{href:e.id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[e.title.slice(0,9),e.title.length>9&&(0,r.jsx)("span",{children:"..."})]}),t+1<s.length&&(0,r.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"})]},t))})]})})},w=function(){var e,s,t;let{data:n}=(0,o.useSession)(),[a,i]=(0,l.useState)(!1),d=(0,l.useRef)(null),u=(0,l.useRef)(null),h=n&&(null===(e=n.user)||void 0===e?void 0:e.image)!==void 0&&n.user.image?n.user.image:"/user_icon.png",x=n&&(null===(s=n.user)||void 0===s?void 0:s.name)!==void 0&&(null===(t=n.user)||void 0===t?void 0:t.name)?n.user.name:"user";return(0,l.useEffect)(()=>{let e=e=>{let s=e.target;u.current&&!u.current.contains(s)&&d.current&&!d.current.contains(s)&&i(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:d,onClick:e=>{e.stopPropagation(),i(e=>!e)},className:"flex cursor-pointer gap-1.5 mt-2 border border-neutral-300 rounded p-1",children:[(0,r.jsx)("div",{children:(0,r.jsx)(c(),{width:20,height:20,src:h,alt:"",className:"rounded-full w-9 h-auto"})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"mt-1.5 mr-0.5 text-sm text-neutral-500",children:x})})]}),a&&(0,r.jsx)("div",{id:"toggleTarget",ref:u,className:"z-50 border-solid border-neutral-300 border absolute bg-white p-1.5 rounded-md w-32 translate-y-[100%] right-5",children:(0,r.jsx)("ul",{children:(0,r.jsxs)("button",{onClick:()=>(0,o.signOut)(),className:"flex relative hover:bg-slate-200 rounded-sm p-1 pr-2",children:[(0,r.jsx)(g.YZx,{size:21,className:"mr-1"}),(0,r.jsx)("p",{className:"text-neutral-600 text-sm",children:"ログアウト"})]})})})]})};var y=t(73902);let k=function(e){let{openbar:s,setOpenbar:t,allTags:l,pageNav:n}=e,a=()=>Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)("div",{onClick:()=>t(!1),className:"bg-black opacity-45 fixed w-full top-0 block md:hidden",style:{height:"".concat(a(),"px"),zIndex:"9998"}}),(0,r.jsx)("div",{className:"fixed w-7/12 top-0 right-0 block md:hidden bg-white duration-700",style:s?{transform:"translateX(0px)",height:"".concat(a(),"px"),zIndex:"9999"}:{transform:"translateX(130%)",height:"100%"},children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"flex items-center justify-between mr-5",children:[(0,r.jsx)("div",{}),(0,r.jsx)("p",{onClick:()=>t(!1),className:"cursor-pointer text-4xl text-neutral-500",children:"\xd7"})]}),(0,r.jsxs)("li",{className:"flex items-center justify-between mr-5",children:[(0,r.jsx)("div",{}),(0,r.jsx)(w,{})]}),(0,r.jsx)("li",{className:"px-5 mt-2",children:(0,r.jsx)(p,{searchKeyWord:""})}),(0,r.jsx)("li",{className:"px-5 mt-2",children:(0,r.jsx)(y.A,{allTags:l})}),(0,r.jsx)("li",{className:"px-5 mt-2",children:void 0!==n&&(0,r.jsxs)("div",{className:"p-1 border border-neutral-400 rounded",children:[(0,r.jsx)("p",{className:"text-base",children:n.title}),n.childPages.map((e,s)=>(0,r.jsx)(j(),{href:"/posts/post/".concat(n.slug,"/").concat(e.id),children:(0,r.jsx)("p",{className:"my-1.5 text-sm text-neutral-500 underline truncate hover:text-neutral-900",children:e.title})},s))]})})]})})]})},E=["/"];function C(e){let{children:s}=e,{data:t,status:n}=(0,o.useSession)(),a=(0,u.useRouter)();return((0,l.useEffect)(()=>{"unauthenticated"!==n||E.includes(a.pathname)||a.push("/")},[n,a]),"loading"===n)?(0,r.jsx)("p",{className:"mx-auto my-0",children:"Loading..."}):(console.log(t),(0,r.jsx)(r.Fragment,{children:s}))}function L(e){let{children:s}=e;return(0,r.jsx)(C,{children:s})}let S=e=>{let{children:s,headerProps:t,sideNavProps:n}=e,[i,c]=(0,l.useState)(!0),[o,u]=(0,l.useState)(0),[h,x]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(void 0!==window){let e=()=>{let e=window.scrollY;e>o&&e>50?c(!1):c(!0),u(e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[o]),(0,r.jsxs)("div",{className:"bg-white",children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Horizon Atlas"})}),(0,r.jsxs)(L,{children:[(0,r.jsx)(k,{openbar:h,setOpenbar:x,allTags:t.allTags,pageNav:n}),(0,r.jsxs)("div",{className:"fixed top-0 z-50 w-full duration-500",style:i?{transform:"translateY(0px)"}:{transform:"translateY(-65%)"},children:[(0,r.jsx)(v,{searchKeyWord:t.searchKeyWord,setOpenbar:x}),(0,r.jsx)(b,{pageNavs:t.pageNavs})]}),s,(0,r.jsx)(d,{})]})]})}},73902:(e,s,t)=>{t.d(s,{A:()=>c});var r=t(74848),l=t(99004),n=t(91106),a=t.n(n),i=t(96540);let c=function(e){let[s,t]=(0,i.useState)(!1),[n,c]=(0,i.useState)(0);(0,i.useEffect)(()=>{if(void 0!==window){let e=()=>{c(window.innerWidth)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}},[]);let{allTags:d}=e;return(0,r.jsxs)("section",{className:"bg-slate-50 rounded-md p-5",children:[(0,r.jsx)("div",{className:"font-medium mb-4",children:"タグ検索"}),!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:d.slice(0,Math.trunc(n/100)).map((e,s)=>(0,r.jsx)("span",{className:"cursor-pointer",style:l.k,children:(0,r.jsx)(a(),{href:"/posts/tag/".concat(e,"/1"),children:e})},s))}),Math.trunc(n/100)<d.length&&(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{className:"text-neutral-500",onClick:()=>t(!0),children:"view more..."})})]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:d.map((e,s)=>(0,r.jsx)("span",{className:"cursor-pointer",style:l.k,children:(0,r.jsx)(a(),{href:"/posts/tag/".concat(e,"/1"),children:e})},s))}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{className:"text-neutral-500",onClick:()=>t(!1),children:"view less"})})]})]})}},99004:(e,s,t)=>{t.d(s,{k:()=>r});let r={background:"rgb(156 163 175)",color:"white",borderRadius:"0.75rem",paddingLeft:"0.5rem",paddingRight:"0.5rem",marginRight:"0.25rem",fontWeight:"100"}}}]);