(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{4600:function(t,e,r){"use strict";var i,n,o,s,a,u,h,l,c,f=r(2928).Buffer,p=this&&this.__classPrivateFieldSet||function(t,e,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(t,r):n?n.value=r:e.set(t,r),r},d=this&&this.__classPrivateFieldGet||function(t,e,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});let y=r(7070),g=r(5848),m=r(9098),b=r(7916),v=r(3092),_=r(4585);class k{constructor(t){var e,r,f,d,g,w;i.set(this,void 0),n.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u.set(this,void 0),h.set(this,void 0),l.set(this,void 0),c.set(this,void 0),this.blocks={retrieve:t=>this.request({path:b.getBlock.path(t),method:b.getBlock.method,query:(0,m.pick)(t,b.getBlock.queryParams),body:(0,m.pick)(t,b.getBlock.bodyParams),auth:null==t?void 0:t.auth}),update:t=>this.request({path:b.updateBlock.path(t),method:b.updateBlock.method,query:(0,m.pick)(t,b.updateBlock.queryParams),body:(0,m.pick)(t,b.updateBlock.bodyParams),auth:null==t?void 0:t.auth}),delete:t=>this.request({path:b.deleteBlock.path(t),method:b.deleteBlock.method,query:(0,m.pick)(t,b.deleteBlock.queryParams),body:(0,m.pick)(t,b.deleteBlock.bodyParams),auth:null==t?void 0:t.auth}),children:{append:t=>this.request({path:b.appendBlockChildren.path(t),method:b.appendBlockChildren.method,query:(0,m.pick)(t,b.appendBlockChildren.queryParams),body:(0,m.pick)(t,b.appendBlockChildren.bodyParams),auth:null==t?void 0:t.auth}),list:t=>this.request({path:b.listBlockChildren.path(t),method:b.listBlockChildren.method,query:(0,m.pick)(t,b.listBlockChildren.queryParams),body:(0,m.pick)(t,b.listBlockChildren.bodyParams),auth:null==t?void 0:t.auth})}},this.databases={list:t=>this.request({path:b.listDatabases.path(),method:b.listDatabases.method,query:(0,m.pick)(t,b.listDatabases.queryParams),body:(0,m.pick)(t,b.listDatabases.bodyParams),auth:null==t?void 0:t.auth}),retrieve:t=>this.request({path:b.getDatabase.path(t),method:b.getDatabase.method,query:(0,m.pick)(t,b.getDatabase.queryParams),body:(0,m.pick)(t,b.getDatabase.bodyParams),auth:null==t?void 0:t.auth}),query:t=>this.request({path:b.queryDatabase.path(t),method:b.queryDatabase.method,query:(0,m.pick)(t,b.queryDatabase.queryParams),body:(0,m.pick)(t,b.queryDatabase.bodyParams),auth:null==t?void 0:t.auth}),create:t=>this.request({path:b.createDatabase.path(),method:b.createDatabase.method,query:(0,m.pick)(t,b.createDatabase.queryParams),body:(0,m.pick)(t,b.createDatabase.bodyParams),auth:null==t?void 0:t.auth}),update:t=>this.request({path:b.updateDatabase.path(t),method:b.updateDatabase.method,query:(0,m.pick)(t,b.updateDatabase.queryParams),body:(0,m.pick)(t,b.updateDatabase.bodyParams),auth:null==t?void 0:t.auth})},this.pages={create:t=>this.request({path:b.createPage.path(),method:b.createPage.method,query:(0,m.pick)(t,b.createPage.queryParams),body:(0,m.pick)(t,b.createPage.bodyParams),auth:null==t?void 0:t.auth}),retrieve:t=>this.request({path:b.getPage.path(t),method:b.getPage.method,query:(0,m.pick)(t,b.getPage.queryParams),body:(0,m.pick)(t,b.getPage.bodyParams),auth:null==t?void 0:t.auth}),update:t=>this.request({path:b.updatePage.path(t),method:b.updatePage.method,query:(0,m.pick)(t,b.updatePage.queryParams),body:(0,m.pick)(t,b.updatePage.bodyParams),auth:null==t?void 0:t.auth}),properties:{retrieve:t=>this.request({path:b.getPageProperty.path(t),method:b.getPageProperty.method,query:(0,m.pick)(t,b.getPageProperty.queryParams),body:(0,m.pick)(t,b.getPageProperty.bodyParams),auth:null==t?void 0:t.auth})}},this.users={retrieve:t=>this.request({path:b.getUser.path(t),method:b.getUser.method,query:(0,m.pick)(t,b.getUser.queryParams),body:(0,m.pick)(t,b.getUser.bodyParams),auth:null==t?void 0:t.auth}),list:t=>this.request({path:b.listUsers.path(),method:b.listUsers.method,query:(0,m.pick)(t,b.listUsers.queryParams),body:(0,m.pick)(t,b.listUsers.bodyParams),auth:null==t?void 0:t.auth}),me:t=>this.request({path:b.getSelf.path(),method:b.getSelf.method,query:(0,m.pick)(t,b.getSelf.queryParams),body:(0,m.pick)(t,b.getSelf.bodyParams),auth:null==t?void 0:t.auth})},this.comments={create:t=>this.request({path:b.createComment.path(),method:b.createComment.method,query:(0,m.pick)(t,b.createComment.queryParams),body:(0,m.pick)(t,b.createComment.bodyParams),auth:null==t?void 0:t.auth}),list:t=>this.request({path:b.listComments.path(),method:b.listComments.method,query:(0,m.pick)(t,b.listComments.queryParams),body:(0,m.pick)(t,b.listComments.bodyParams),auth:null==t?void 0:t.auth})},this.search=t=>this.request({path:b.search.path(),method:b.search.method,query:(0,m.pick)(t,b.search.queryParams),body:(0,m.pick)(t,b.search.bodyParams),auth:null==t?void 0:t.auth}),this.oauth={token:t=>this.request({path:b.oauthToken.path(),method:b.oauthToken.method,query:(0,m.pick)(t,b.oauthToken.queryParams),body:(0,m.pick)(t,b.oauthToken.bodyParams),auth:{client_id:t.client_id,client_secret:t.client_secret}})},p(this,i,null==t?void 0:t.auth,"f"),p(this,n,null!==(e=null==t?void 0:t.logLevel)&&void 0!==e?e:y.LogLevel.WARN,"f"),p(this,o,null!==(r=null==t?void 0:t.logger)&&void 0!==r?r:(0,y.makeConsoleLogger)(_.name),"f"),p(this,s,(null!==(f=null==t?void 0:t.baseUrl)&&void 0!==f?f:"https://api.notion.com")+"/v1/","f"),p(this,a,null!==(d=null==t?void 0:t.timeoutMs)&&void 0!==d?d:6e4,"f"),p(this,u,null!==(g=null==t?void 0:t.notionVersion)&&void 0!==g?g:k.defaultNotionVersion,"f"),p(this,h,null!==(w=null==t?void 0:t.fetch)&&void 0!==w?w:v.default,"f"),p(this,l,null==t?void 0:t.agent,"f"),p(this,c,`notionhq-client/${_.version}`,"f")}async request({path:t,method:e,query:r,body:i,auth:n}){let o;this.log(y.LogLevel.INFO,"request start",{method:e,path:t});let p=i&&0!==Object.entries(i).length?JSON.stringify(i):void 0,m=new URL(`${d(this,s,"f")}${t}`);if(r)for(let[t,e]of Object.entries(r))void 0!==e&&(Array.isArray(e)?e.forEach(e=>m.searchParams.append(t,decodeURIComponent(e))):m.searchParams.append(t,String(e)));if("object"==typeof n){let t=`${n.client_id}:${n.client_secret}`,e=f.from(t).toString("base64");o={authorization:`Basic ${e}`}}else o=this.authAsHeaders(n);let b={...o,"Notion-Version":d(this,u,"f"),"user-agent":d(this,c,"f")};void 0!==p&&(b["content-type"]="application/json");try{let r=await g.RequestTimeoutError.rejectAfterTimeout(d(this,h,"f").call(this,m.toString(),{method:e.toUpperCase(),headers:b,body:p,agent:d(this,l,"f")}),d(this,a,"f")),i=await r.text();if(!r.ok)throw(0,g.buildRequestError)(r,i);let n=JSON.parse(i);return this.log(y.LogLevel.INFO,"request success",{method:e,path:t}),n}catch(t){if(!(0,g.isNotionClientError)(t))throw t;throw this.log(y.LogLevel.WARN,"request fail",{code:t.code,message:t.message}),(0,g.isHTTPResponseError)(t)&&this.log(y.LogLevel.DEBUG,"failed response body",{body:t.body}),t}}log(t,e,r){(0,y.logLevelSeverity)(t)>=(0,y.logLevelSeverity)(d(this,n,"f"))&&d(this,o,"f").call(this,t,e,r)}authAsHeaders(t){let e={},r=null!=t?t:d(this,i,"f");return void 0!==r&&(e.authorization=`Bearer ${r}`),e}}e.default=k,i=new WeakMap,n=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap,k.defaultNotionVersion="2022-06-28"},7916:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oauthToken=e.listComments=e.createComment=e.search=e.createDatabase=e.listDatabases=e.queryDatabase=e.updateDatabase=e.getDatabase=e.appendBlockChildren=e.listBlockChildren=e.deleteBlock=e.updateBlock=e.getBlock=e.getPageProperty=e.updatePage=e.getPage=e.createPage=e.listUsers=e.getUser=e.getSelf=void 0,e.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},e.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:t=>`users/${t.user_id}`},e.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},e.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},e.getPage={method:"get",pathParams:["page_id"],queryParams:["filter_properties"],bodyParams:[],path:t=>`pages/${t.page_id}`},e.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived","in_trash"],path:t=>`pages/${t.page_id}`},e.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:t=>`pages/${t.page_id}/properties/${t.property_id}`},e.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:t=>`blocks/${t.block_id}`},e.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","in_trash","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:t=>`blocks/${t.block_id}`},e.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:t=>`blocks/${t.block_id}`},e.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:t=>`blocks/${t.block_id}/children`},e.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children","after"],path:t=>`blocks/${t.block_id}/children`},e.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:t=>`databases/${t.database_id}`},e.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","description","icon","cover","properties","is_inline","archived","in_trash"],path:t=>`databases/${t.database_id}`},e.queryDatabase={method:"post",pathParams:["database_id"],queryParams:["filter_properties"],bodyParams:["sorts","filter","start_cursor","page_size","archived","in_trash"],path:t=>`databases/${t.database_id}/query`},e.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},e.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title","description","is_inline"],path:()=>"databases"},e.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"},e.createComment={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","rich_text","discussion_id"],path:()=>"comments"},e.listComments={method:"get",pathParams:[],queryParams:["block_id","start_cursor","page_size"],bodyParams:[],path:()=>"comments"},e.oauthToken={method:"post",pathParams:[],queryParams:[],bodyParams:["grant_type","code","redirect_uri","external_account"],path:()=>"oauth/token"}},5848:(t,e,r)=>{"use strict";var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.buildRequestError=e.APIResponseError=e.UnknownHTTPResponseError=e.isHTTPResponseError=e.RequestTimeoutError=e.isNotionClientError=e.ClientErrorCode=e.APIErrorCode=void 0;let o=r(9098);!function(t){t.Unauthorized="unauthorized",t.RestrictedResource="restricted_resource",t.ObjectNotFound="object_not_found",t.RateLimited="rate_limited",t.InvalidJSON="invalid_json",t.InvalidRequestURL="invalid_request_url",t.InvalidRequest="invalid_request",t.ValidationError="validation_error",t.ConflictError="conflict_error",t.InternalServerError="internal_server_error",t.ServiceUnavailable="service_unavailable"}(i=e.APIErrorCode||(e.APIErrorCode={})),function(t){t.RequestTimeout="notionhq_client_request_timeout",t.ResponseError="notionhq_client_response_error"}(n=e.ClientErrorCode||(e.ClientErrorCode={}));class s extends Error{}function a(t){return(0,o.isObject)(t)&&t instanceof s}function u(t,e){return a(t)&&t.code in e}e.isNotionClientError=a;class h extends s{constructor(t="Request to Notion API has timed out"){super(t),this.code=n.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(t){return u(t,{[n.RequestTimeout]:!0})}static rejectAfterTimeout(t,e){return new Promise((r,i)=>{let n=setTimeout(()=>{i(new h)},e);t.then(r).catch(i).then(()=>clearTimeout(n))})}}e.RequestTimeoutError=h;class l extends s{constructor(t){super(t.message),this.name="HTTPResponseError";let{code:e,status:r,headers:i,rawBodyText:n}=t;this.code=e,this.status=r,this.headers=i,this.body=n}}let c={[n.ResponseError]:!0,[i.Unauthorized]:!0,[i.RestrictedResource]:!0,[i.ObjectNotFound]:!0,[i.RateLimited]:!0,[i.InvalidJSON]:!0,[i.InvalidRequestURL]:!0,[i.InvalidRequest]:!0,[i.ValidationError]:!0,[i.ConflictError]:!0,[i.InternalServerError]:!0,[i.ServiceUnavailable]:!0};e.isHTTPResponseError=function(t){return!!u(t,c)};class f extends l{constructor(t){var e;super({...t,code:n.ResponseError,message:null!==(e=t.message)&&void 0!==e?e:`Request to Notion API failed with status: ${t.status}`}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(t){return u(t,{[n.ResponseError]:!0})}}e.UnknownHTTPResponseError=f;let p={[i.Unauthorized]:!0,[i.RestrictedResource]:!0,[i.ObjectNotFound]:!0,[i.RateLimited]:!0,[i.InvalidJSON]:!0,[i.InvalidRequestURL]:!0,[i.InvalidRequest]:!0,[i.ValidationError]:!0,[i.ConflictError]:!0,[i.InternalServerError]:!0,[i.ServiceUnavailable]:!0};class d extends l{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(t){return u(t,p)}}e.APIResponseError=d,e.buildRequestError=function(t,e){let r=function(t){var e;let r;if("string"==typeof t){try{r=JSON.parse(t)}catch(t){return}if((0,o.isObject)(r)&&"string"==typeof r.message&&"string"==typeof(e=r.code)&&e in p)return{...r,code:r.code,message:r.message}}}(e);return void 0!==r?new d({code:r.code,message:r.message,headers:t.headers,status:t.status,rawBodyText:e}):new f({message:void 0,headers:t.headers,status:t.status,rawBodyText:e})}},9390:(t,e)=>{"use strict";async function*r(t,e){let r=e.start_cursor;do{let i=await t({...e,start_cursor:r});yield*i.results,r=i.next_cursor}while(r)}async function i(t,e){let i=[];for await(let n of r(t,e))i.push(n);return i}function n(t){return"page"===t.object&&"url"in t}function o(t){return"database"===t.object&&"title"in t}Object.defineProperty(e,"__esModule",{value:!0}),e.isMentionRichTextItemResponse=e.isEquationRichTextItemResponse=e.isTextRichTextItemResponse=e.isFullComment=e.isFullUser=e.isFullPageOrDatabase=e.isFullDatabase=e.isFullPage=e.isFullBlock=e.collectPaginatedAPI=e.iteratePaginatedAPI=void 0,e.iteratePaginatedAPI=r,e.collectPaginatedAPI=i,e.isFullBlock=function(t){return"block"===t.object&&"type"in t},e.isFullPage=n,e.isFullDatabase=o,e.isFullPageOrDatabase=function(t){return"database"===t.object?o(t):n(t)},e.isFullUser=function(t){return"type"in t},e.isFullComment=function(t){return"created_by"in t},e.isTextRichTextItemResponse=function(t){return"text"===t.type},e.isEquationRichTextItemResponse=function(t){return"equation"===t.type},e.isMentionRichTextItemResponse=function(t){return"mention"===t.type}},1007:(t,e,r)=>{"use strict";e.Kj=void 0;var i=r(4600);Object.defineProperty(e,"Kj",{enumerable:!0,get:function(){return i.default}}),r(7070),r(5848),r(9390)},7070:(t,e,r)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.logLevelSeverity=e.makeConsoleLogger=e.LogLevel=void 0;let n=r(9098);!function(t){t.DEBUG="debug",t.INFO="info",t.WARN="warn",t.ERROR="error"}(i=e.LogLevel||(e.LogLevel={})),e.makeConsoleLogger=function(t){return(e,r,i)=>{console[e](`${t} ${e}:`,r,i)}},e.logLevelSeverity=function(t){switch(t){case i.DEBUG:return 20;case i.INFO:return 40;case i.WARN:return 60;case i.ERROR:return 80;default:return(0,n.assertNever)(t)}}},9098:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=e.pick=e.assertNever=void 0,e.assertNever=function(t){throw Error(`Unexpected value should never occur: ${t}`)},e.pick=function(t,e){return Object.fromEntries(e.map(e=>[e,null==t?void 0:t[e]]))},e.isObject=function(t){return"object"==typeof t&&null!==t}},1779:(t,e,r)=>{var i=r(2928).Buffer,n=function(){"use strict";var t,e,r;function n(t,e){return null!=e&&t instanceof e}try{t=Map}catch(e){t=function(){}}try{e=Set}catch(t){e=function(){}}try{r=Promise}catch(t){r=function(){}}function o(s,u,h,l,c){"object"==typeof u&&(h=u.depth,l=u.prototype,c=u.includeNonEnumerable,u=u.circular);var f=[],p=[],d=void 0!==i;return void 0===u&&(u=!0),void 0===h&&(h=1/0),function s(h,y){if(null===h)return null;if(0===y||"object"!=typeof h)return h;if(n(h,t))g=new t;else if(n(h,e))g=new e;else if(n(h,r))g=new r(function(t,e){h.then(function(e){t(s(e,y-1))},function(t){e(s(t,y-1))})});else if(o.__isArray(h))g=[];else if(o.__isRegExp(h))g=new RegExp(h.source,a(h)),h.lastIndex&&(g.lastIndex=h.lastIndex);else if(o.__isDate(h))g=new Date(h.getTime());else{if(d&&i.isBuffer(h))return g=i.allocUnsafe?i.allocUnsafe(h.length):new i(h.length),h.copy(g),g;n(h,Error)?g=Object.create(h):void 0===l?g=Object.create(m=Object.getPrototypeOf(h)):(g=Object.create(l),m=l)}if(u){var g,m,b,v=f.indexOf(h);if(-1!=v)return p[v];f.push(h),p.push(g)}for(var _ in n(h,t)&&h.forEach(function(t,e){var r=s(e,y-1),i=s(t,y-1);g.set(r,i)}),n(h,e)&&h.forEach(function(t){var e=s(t,y-1);g.add(e)}),h)m&&(b=Object.getOwnPropertyDescriptor(m,_)),b&&null==b.set||(g[_]=s(h[_],y-1));if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(h),_=0;_<k.length;_++){var w=k[_],P=Object.getOwnPropertyDescriptor(h,w);(!P||P.enumerable||c)&&(g[w]=s(h[w],y-1),P.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}if(c)for(var E=Object.getOwnPropertyNames(h),_=0;_<E.length;_++){var T=E[_],P=Object.getOwnPropertyDescriptor(h,T);P&&P.enumerable||(g[T]=s(h[T],y-1),Object.defineProperty(g,T,{enumerable:!1}))}return g}(s,h)}function s(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=s,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===s(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===s(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===s(t)},o.__getRegExpFlags=a,o}();t.exports&&(t.exports=n)},1717:(t,e,r)=>{"use strict";var i=r(5208);t.exports=function(t,e){for(var r,a,u,h,l,c,f,p,d,y,g,m,b=e||{},v=!1!==b.padding,_=!1!==b.delimiterStart,k=!1!==b.delimiterEnd,w=(b.align||[]).concat(),P=!1!==b.alignDelimiters,E=[],T=b.stringLength||o,q=-1,x=t.length,O=[],L=[],R=[],C=[],B=[],A=0;++q<x;){for(a=t[q],u=-1,h=a.length,R=[],C=[],h>A&&(A=h);++u<h;)f=null==(r=a[u])?"":String(r),!0===P&&(c=T(f),C[u]=c,(void 0===(l=B[u])||c>l)&&(B[u]=c)),R.push(f);O[q]=R,L[q]=C}if(u=-1,h=A,"object"==typeof w&&"length"in w)for(;++u<h;)E[u]=s(w[u]);else for(m=s(w);++u<h;)E[u]=m;for(u=-1,h=A,R=[],C=[];++u<h;)m=E[u],y="",g="",108===m?y=":":114===m?g=":":99===m&&(y=":",g=":"),c=P?Math.max(1,B[u]-y.length-g.length):1,f=y+i("-",c)+g,!0===P&&((c=y.length+c+g.length)>B[u]&&(B[u]=c),C[u]=c),R[u]=f;for(O.splice(1,0,R),L.splice(1,0,C),q=-1,x=O.length,p=[];++q<x;){for(R=O[q],C=L[q],u=-1,h=A,d=[];++u<h;)f=R[u]||"",y="",g="",!0===P&&(c=B[u]-(C[u]||0),114===(m=E[u])?y=i(" ",c):99===m?c%2==0?g=y=i(" ",c/2):(y=i(" ",c/2+.5),g=i(" ",c/2-.5)):g=i(" ",c)),!0===_&&0===u&&d.push("|"),!0!==v||!1===P&&""===f||!0!==_&&0===u||d.push(" "),!0===P&&d.push(y),d.push(f),!0===P&&d.push(g),!0===v&&d.push(" "),(!0===k||u!==h-1)&&d.push("|");d=d.join(""),!1===k&&(d=d.replace(n,"")),p.push(d)}return p.join("\n")};var n=/ +$/;function o(t){return t.length}function s(t){var e="string"==typeof t?t.charCodeAt(0):0;return 76===e||108===e?108:82===e||114===e?114:67===e||99===e?99:0}},2928:t=>{!function(){var e={675:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],i=e[1];return(r+i)*3/4-i},e.toByteArray=function(t){var e,r,o=u(t),s=o[0],a=o[1],h=new n((s+a)*3/4-a),l=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,h[l++]=255&e),1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e),h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,o=[],s=0,a=i-n;s<a;s+=16383)o.push(function(t,e,i){for(var n,o=[],s=e;s<i;s+=3)o.push(r[(n=(t[s]<<16&0xff0000)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===n?o.push(r[(e=t[i-1])>>2]+r[e<<4&63]+"=="):2===n&&o.push(r[(e=(t[i-2]<<8)+t[i-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var i=r===e?0:4-r%4;return[r,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},72:function(t,e,r){"use strict";var i=r(675),n=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!a.isEncoding(e))throw TypeError("Unknown encoding: "+e);var r=0|p(t,e),i=s(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(L(t,ArrayBuffer)||t&&L(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(L(t,SharedArrayBuffer)||t&&L(t.buffer,SharedArrayBuffer)))return function(t,e,r){var i;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),a.prototype),i}(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return a.from(i,e,r);var n=function(t){if(a.isBuffer(t)){var e,r=0|f(t.length),i=s(r);return 0===i.length||t.copy(i,0,0,r),i}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?s(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return h(t),s(t<0?0:0|f(t))}function c(t){for(var e=t.length<0?0:0|f(t.length),r=s(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function f(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||L(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return x(t).length;default:if(n)return i?-1:T(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=R[t[o]];return n}(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return function(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}(this,e,r);case"latin1":case"binary":return function(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}(this,e,r);case"base64":return n=e,o=r,0===n&&o===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(n,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}(this,e,r);default:if(s)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function y(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function g(t,e,r,i,n){var o;if(0===t.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r=+r)!=o&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1}else if(r<0){if(!n)return -1;r=0}if("string"==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:m(t,e,r,i,n);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,i,n);throw TypeError("val must be string, number or Buffer")}function m(t,e,r,i,n){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return -1;s=2,a/=2,u/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var l=-1;for(o=r;o<a;o++)if(h(t,o)===h(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var c=!0,f=0;f<u;f++)if(h(t,o+f)!==h(e,f)){c=!1;break}if(c)return o}return -1}function b(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,u,h=t[n],l=null,c=h>239?4:h>223?3:h>191?2:1;if(n+c<=r)switch(c){case 1:h<128&&(l=h);break;case 2:(192&(o=t[n+1]))==128&&(u=(31&h)<<6|63&o)>127&&(l=u);break;case 3:o=t[n+1],s=t[n+2],(192&o)==128&&(192&s)==128&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),n+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(i)}function v(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function _(t,e,r,i,n,o){if(!a.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw RangeError('"value" argument is out of bounds');if(r+i>t.length)throw RangeError("Index out of range")}function k(t,e,r,i,n,o){if(r+i>t.length||r<0)throw RangeError("Index out of range")}function w(t,e,r,i,o){return e=+e,r>>>=0,o||k(t,e,r,4,34028234663852886e22,-34028234663852886e22),n.write(t,e,r,i,23,4),r+4}function P(t,e,r,i,o){return e=+e,r>>>=0,o||k(t,e,r,8,17976931348623157e292,-17976931348623157e292),n.write(t,e,r,i,52,8),r+8}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return(h(t),t<=0)?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),L(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;var r,i=a.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(L(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?b(this,0,t):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(t,e,r,i,n){if(L(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,n>>>=0,this===t)return 0;for(var o=n-i,s=r-e,u=Math.min(o,s),h=this.slice(i,n),l=t.slice(e,r),c=0;c<u;++c)if(h[c]!==l[c]){o=h[c],s=l[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},a.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n,o,s,a,u,h,l,c,f,p,d,y,g=this.length-e;if((void 0===r||r>g)&&(r=g),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var m=!1;;)switch(i){case"hex":return function(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(a!=a)break;t[r+s]=a}return s}(this,t,e,r);case"utf8":case"utf-8":return u=e,h=r,O(T(t,this.length-u),this,u,h);case"ascii":return l=e,c=r,O(q(t),this,l,c);case"latin1":case"binary":return n=this,o=t,s=e,a=r,O(q(o),n,s,a);case"base64":return f=e,p=r,O(x(t),this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=e,y=r,O(function(t,e){for(var r,i,n=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(r=t.charCodeAt(o))>>8,n.push(r%256),n.push(i);return n}(t,this.length-d),this,d,y);default:if(m)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),m=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,a.prototype),i},a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||v(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||v(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},a.prototype.readUInt8=function(t,e){return t>>>=0,e||v(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||v(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||v(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||v(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||v(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||v(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return(t>>>=0,e||v(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||v(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||v(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||v(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||v(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||v(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||v(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;_(this,t,e,r,n,0)}var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;_(this,t,e,r,n,0)}var o=r-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);_(this,t,e,r,n-1,-n)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);_(this,t,e,r,n-1,-n)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,r){return w(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return w(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,i){if(!a.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var o=n-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return n},a.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===t.length){var n,o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{var s=a.isBuffer(t)?t:a.from(t,i),u=s.length;if(0===u)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=s[n%u]}return this};var E=/[^+/0-9A-Za-z-_]/g;function T(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319||s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function q(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function x(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function O(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length)&&!(n>=t.length);++n)e[n+r]=t[n];return n}function L(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var R=function(){for(var t="0123456789abcdef",e=Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()},783:function(t,e){e.read=function(t,e,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,h=u>>1,l=-7,c=r?n-1:0,f=r?-1:1,p=t[e+c];for(c+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+t[e+c],c+=f,l-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var s,a,u,h=8*o-n-1,l=(1<<h)-1,c=l>>1,f=23===n?5960464477539062e-23:0,p=i?0:o-1,d=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+c>=1?e+=f/u:e+=f*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*u-1)*Math.pow(2,n),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,n),s=0));n>=8;t[r+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,h+=n;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*y}}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}},s=!0;try{e[t](o,o.exports,i),s=!1}finally{s&&delete r[t]}return o.exports}i.ab="//";var n=i(72);t.exports=n}()},5766:t=>{!function(){"use strict";var e={864:function(t){var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise(function(r,i){var n;function o(r){t.removeListener(e,s),i(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}y(t,e,s,{once:!0}),"error"!==e&&(n={once:!0},"function"==typeof t.on&&y(t,"error",o,n))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function h(t,e,r,i){if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=u(t))>0&&s.length>n&&!s.warned){s.warned=!0;var n,o,s,h=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,console&&console.warn&&console.warn(h)}return t}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=l.bind(i);return n.listener=r,i.wrapFn=n,n}function f(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):d(n,n.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=Array(e),i=0;i<e;++i)r[i]=t[i];return r}function y(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else if("function"==typeof t.addEventListener)t.addEventListener(e,function n(o){i.once&&t.removeEventListener(e,n),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||n(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else for(var h=u.length,l=d(u,h),r=0;r<h;++r)i(l[r],this,e);return!0},o.prototype.addListener=function(t,e){return h(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return h(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,i,n,o,s;if(a(e),void 0===(i=this._events)||void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0==arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}},s=!0;try{e[t](o,o.exports,i),s=!1}finally{s&&delete r[t]}return o.exports}i.ab="//";var n=i(864);t.exports=n}()},3342:function(t,e,r){(function(){(t.exports=r(3321)).version="5.1.2"}).call(this)},3321:function(t,e,r){var i=r(2928).Buffer;(function(){var e,n,o=[].splice,s=function(t,e){if(!(t instanceof e))throw Error("Bound instance method accessed before binding")},a=[].indexOf;n=r(1779),e=r(5766).EventEmitter,t.exports=(function(){class t extends e{constructor(t={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=t,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(t=>{var e;e=this[t],this[t]=function(...t){var r,i,n;if(i=t,[...t]=i,[r]=o.call(t,-1),"function"!=typeof r)return e(...t,r);try{n=e(...t),r(null,n)}catch(t){r(t)}}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData();return}get(e){var r;if(s(this,t),null!=(r=this._isInvalidKey(e)))throw r;if(null!=this.data[e]&&this._check(e,this.data[e]))return this.stats.hits++,this._unwrap(this.data[e]);this.stats.misses++}mget(e){var r,i,n,o,a;if(s(this,t),!Array.isArray(e))throw this._error("EKEYSTYPE");for(i=0,a={},o=e.length;i<o;i++){if(n=e[i],null!=(r=this._isInvalidKey(n)))throw r;null!=this.data[n]&&this._check(n,this.data[n])?(this.stats.hits++,a[n]=this._unwrap(this.data[n])):this.stats.misses++}return a}set(e,r,i){var n,o;if(s(this,t),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw this._error("ECACHEFULL");if(this.options.forceString,null==i&&(i=this.options.stdTTL),null!=(n=this._isInvalidKey(e)))throw n;return o=!1,this.data[e]&&(o=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[e],!1))),this.data[e]=this._wrap(r,i),this.stats.vsize+=this._getValLength(r),!o&&(this.stats.ksize+=this._getKeyLength(e),this.stats.keys++),this.emit("set",e,r),!0}mset(e){var r,i,n,o,a,u,h,l,c;if(s(this,t),this.options.maxKeys>-1&&this.stats.keys+e.length>=this.options.maxKeys)throw this._error("ECACHEFULL");for(i=0,u=e.length;i<u;i++){if(a=e[i],{key:o,val:c,ttl:l}=a,l&&"number"!=typeof l)throw this._error("ETTLTYPE");if(null!=(r=this._isInvalidKey(o)))throw r}for(n=0,h=e.length;n<h;n++)a=e[n],({key:o,val:c,ttl:l}=a),this.set(o,c,l);return!0}del(e){var r,i,n,o,a,u;for(s(this,t),Array.isArray(e)||(e=[e]),r=0,n=0,a=e.length;n<a;n++){if(o=e[n],null!=(i=this._isInvalidKey(o)))throw i;null!=this.data[o]&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[o],!1)),this.stats.ksize-=this._getKeyLength(o),this.stats.keys--,r++,u=this.data[o],delete this.data[o],this.emit("del",o,u.v))}return r}take(e){var r;return s(this,t),null!=(r=this.get(e))&&this.del(e),r}ttl(e,r){var i;if(s(this,t),r||(r=this.options.stdTTL),!e)return!1;if(null!=(i=this._isInvalidKey(e)))throw i;return!!(null!=this.data[e]&&this._check(e,this.data[e]))&&(r>=0?this.data[e]=this._wrap(this.data[e].v,r,!1):this.del(e),!0)}getTtl(e){var r;if(s(this,t),e){if(null!=(r=this._isInvalidKey(e)))throw r;return null!=this.data[e]&&this._check(e,this.data[e])?this.data[e].t:void 0}}keys(){return s(this,t),Object.keys(this.data)}has(e){return s(this,t),null!=this.data[e]&&this._check(e,this.data[e])}getStats(){return s(this,t),this.stats}flushAll(e=!0){s(this,t),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(e),this.emit("flush")}flushStats(){s(this,t),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){s(this,t),this._killCheckPeriod()}_checkData(e=!0){var r,i,n;for(r in s(this,t),i=this.data)n=i[r],this._check(r,n);e&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,1e3*this.options.checkperiod,e),null!=this.checkTimeout&&null!=this.checkTimeout.unref&&this.checkTimeout.unref())}_killCheckPeriod(){if(null!=this.checkTimeout)return clearTimeout(this.checkTimeout)}_check(e,r){var i;return s(this,t),i=!0,0!==r.t&&r.t<Date.now()&&(this.options.deleteOnExpire&&(i=!1,this.del(e)),this.emit("expired",e,this._unwrap(r))),i}_isInvalidKey(e){var r;if(s(this,t),r=typeof e,0>a.call(this.validKeyTypes,r))return this._error("EKEYTYPE",{type:typeof e})}_wrap(e,r,i=!0){var o;return s(this,t),this.options.useClones||(i=!1),o=Date.now(),{t:0===r?0:r?o+1e3*r:0===this.options.stdTTL?this.options.stdTTL:o+1e3*this.options.stdTTL,v:i?n(e):e}}_unwrap(t,e=!0){return(this.options.useClones||(e=!1),null!=t.v)?e?n(t.v):t.v:null}_getKeyLength(t){return t.toString().length}_getValLength(e){if(s(this,t),"string"==typeof e)return e.length;if(this.options.forceString)return JSON.stringify(e).length;if(Array.isArray(e))return this.options.arrayValueSize*e.length;if("number"==typeof e)return 8;if("function"==typeof(null!=e?e.then:void 0))return this.options.promiseValueSize;if(null!=i?i.isBuffer(e):void 0)return e.length;if(null!=e&&"object"==typeof e)return this.options.objectValueSize*Object.keys(e).length;else if("boolean"==typeof e)return 8;else return 0}_error(e,r={}){var i;return s(this,t),(i=Error()).name=e,i.errorcode=e,i.message=null!=this.ERRORS[e]?this.ERRORS[e](r):"-",i.data=r,i}_initErrors(){var e,r,i;for(r in s(this,t),this.ERRORS={},i=this._ERRORS)e=i[r],this.ERRORS[r]=this.createErrorMessage(e)}createErrorMessage(t){return function(e){return t.replace("__key",e.type)}}}return t.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},t}).call(this)}).call(this)},3092:(t,e,r)=>{"use strict";var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();t.exports=e=i.fetch,i.fetch&&(e.default=i.fetch.bind(i)),e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response},8599:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9478),e)},9478:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.NotionToMarkdown=void 0;let s=o(r(7376)),a=r(8456);class u{constructor(t){this.notionClient=t.notionClient,this.config={separateChildPage:!1,convertImagesToBase64:!1,parseChildPages:!0,...t.config},this.customTransformers={}}setCustomTransformer(t,e){return this.customTransformers[t]=e,this}toMarkdownString(t=[],e="parent",r=0){let i={};return t.forEach(t=>{if(t.parent&&"toggle"!==t.type&&"child_page"!==t.type&&("to_do"!==t.type&&"bulleted_list_item"!==t.type&&"numbered_list_item"!==t.type?(i[e]=i[e]||"",i[e]+=`
${s.addTabSpace(t.parent,r)}

`):(i[e]=i[e]||"",i[e]+=`${s.addTabSpace(t.parent,r)}
`)),t.children&&t.children.length>0){if("synced_block"===t.type||"column_list"===t.type||"column"===t.type){let r=this.toMarkdownString(t.children,e);i[e]=i[e]||"",Object.keys(r).forEach(t=>{i[t]?i[t]+=r[t]:i[t]=r[t]})}else if("child_page"===t.type){let r=t.parent,n=this.toMarkdownString(t.children,r);this.config.separateChildPage?i={...i,...n}:(i[e]=i[e]||"",n[r]&&(i[e]+=`
${r}
${n[r]}`))}else if("toggle"===t.type){let r=this.toMarkdownString(t.children);i[e]=i[e]||"",i[e]+=s.toggle(t.parent,r.parent)}else{let n=this.toMarkdownString(t.children,e,r+1);i[e]=i[e]||"","parent"!==e&&n.parent?i[e]+=n.parent:n[e]&&(i[e]+=n[e])}}}),i}async pageToMarkdown(t,e=null){if(!this.notionClient)throw Error("notion client is not provided, for more details check out https://github.com/souvikinator/notion-to-md");let r=await (0,a.getBlockChildren)(this.notionClient,t,e);return await this.blocksToMarkdown(r)}async blocksToMarkdown(t,e=null,r=[]){var i,n;if(!this.notionClient)throw Error("notion client is not provided, for more details check out https://github.com/souvikinator/notion-to-md");if(!t)return r;for(let o=0;o<t.length;o++){let s=t[o];if("child_page"===s.type&&!this.config.parseChildPages)continue;if("has_children"in s&&s.has_children){let t="synced_block"==s.type&&(null===(n=null===(i=s.synced_block)||void 0===i?void 0:i.synced_from)||void 0===n?void 0:n.block_id)?s.synced_block.synced_from.block_id:s.id,o=await (0,a.getBlockChildren)(this.notionClient,t,e);if(r.push({type:s.type,blockId:s.id,parent:await this.blockToMarkdown(s),children:[]}),!(s.type in this.customTransformers)&&!this.customTransformers[s.type]){let t=r.length;await this.blocksToMarkdown(o,e,r[t-1].children)}continue}let u=await this.blockToMarkdown(s);r.push({type:s.type,blockId:s.id,parent:u,children:[]})}return r}async blockToMarkdown(t){if("object"!=typeof t||!("type"in t))return"";let e="",{type:r}=t;if(r in this.customTransformers&&this.customTransformers[r]){let e=await this.customTransformers[r](t);if("string"==typeof e)return e}switch(r){case"image":{let e=t.image,r="image",i=e.caption.map(t=>t.plain_text).join(""),n=e.type,o="";if("external"===n&&(o=e.external.url),"file"===n&&(o=e.file.url),i.trim().length>0)r=i;else if("file"===n||"external"===n){let t=o.match(/[^\/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/);r=t?t[0]:r}return await s.image(r,o,this.config.convertImagesToBase64)}case"divider":return s.divider();case"equation":return s.equation(t.equation.expression);case"video":case"file":case"pdf":{let e;let i=r;"video"===r&&(e=t.video),"file"===r&&(e=t.file),"pdf"===r&&(e=t.pdf);let n=null==e?void 0:e.caption.map(t=>t.plain_text).join("");if(e){let t=e.type,o="";if("external"===t&&(o=e.external.url),"file"===t&&(o=e.file.url),n&&n.trim().length>0)i=n;else if(o){let t=o.match(/[^\/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/);i=t?t[0]:r}return s.link(i,o)}}break;case"bookmark":case"embed":case"link_preview":case"link_to_page":{let e;if("bookmark"===r&&(e=t.bookmark),"embed"===r&&(e=t.embed),"link_preview"===r&&(e=t.link_preview),"link_to_page"===r&&"page_id"===t.link_to_page.type&&(e={url:t.link_to_page.page_id}),e)return s.link(r,e.url)}break;case"child_page":{if(!this.config.parseChildPages)return"";let e=t.child_page.title;if(this.config.separateChildPage)return e;return s.heading2(e)}case"child_database":return t.child_database.title||"child_database";case"table":{let{id:e,has_children:r}=t,i=[];if(r){let t=await (0,a.getBlockChildren)(this.notionClient,e,100),r=null==t?void 0:t.map(async t=>{let{type:e}=t,r=t[e].cells.map(async t=>await this.blockToMarkdown({type:"paragraph",paragraph:{rich_text:t}})),n=await Promise.all(r);i.push(n)});await Promise.all(r||[])}return s.table(i)}default:(t[r].text||t[r].rich_text||[]).map(t=>{if("equation"===t.type){e+=s.inlineEquation(t.equation.expression);return}let r=t.annotations,i=t.plain_text;i=this.annotatePlainText(i,r),t.href&&(i=s.link(i,t.href)),e+=i})}switch(r){case"code":e=s.codeBlock(e,t[r].language);break;case"heading_1":e=s.heading1(e);break;case"heading_2":e=s.heading2(e);break;case"heading_3":e=s.heading3(e);break;case"quote":e=s.quote(e);break;case"callout":{let{id:i,has_children:n}=t,o="";if(!n)return s.callout(e,t[r].icon);let u=await (0,a.getBlockChildren)(this.notionClient,i,100),h=await this.blocksToMarkdown(u);o+=`${e}
`,h.map(t=>{o+=`${t.parent}

`}),e=s.callout(o.trim(),t[r].icon)}break;case"bulleted_list_item":e=s.bullet(e);break;case"numbered_list_item":e=s.bullet(e,t.numbered_list_item.number);break;case"to_do":e=s.todo(e,t.to_do.checked)}return e}annotatePlainText(t,e){if(t.match(/^\s*$/))return t;let r=t.match(/^(\s*)/),i=t.match(/(\s*)$/),n=r?r[0]:"",o=i?i[0]:"";return""!==(t=t.trim())&&(e.code&&(t=s.inlineCode(t)),e.bold&&(t=s.bold(t)),e.italic&&(t=s.italic(t)),e.strikethrough&&(t=s.strikethrough(t)),e.underline&&(t=s.underline(t))),n+t+o}}e.NotionToMarkdown=u},7376:function(t,e,r){"use strict";var i=r(2928).Buffer,n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.table=e.toggle=e.divider=e.addTabSpace=e.image=e.todo=e.bullet=e.callout=e.quote=e.heading3=e.heading2=e.heading1=e.equation=e.codeBlock=e.link=e.underline=e.strikethrough=e.italic=e.bold=e.inlineEquation=e.inlineCode=void 0;let o=n(r(1717)),s=n(r(3092));e.inlineCode=t=>`\`${t}\``,e.inlineEquation=t=>`$${t}$`,e.bold=t=>`**${t}**`,e.italic=t=>`_${t}_`,e.strikethrough=t=>`~~${t}~~`,e.underline=t=>`<u>${t}</u>`,e.link=(t,e)=>`[${t}](${e})`,e.codeBlock=(t,e)=>("plain text"===e&&(e="text"),`\`\`\`${e}
${t}
\`\`\``),e.equation=t=>`$$
${t}
$$`,e.heading1=t=>`# ${t}`,e.heading2=t=>`## ${t}`,e.heading3=t=>`### ${t}`,e.quote=t=>`> ${t.replace(/\n/g,"  \n> ")}`,e.callout=(t,e)=>{let r;return(null==e?void 0:e.type)==="emoji"&&(r=e.emoji),`> ${r?r+" ":""}${t.replace(/\n/g,"  \n> ")}`},e.bullet=(t,e)=>{let r=t.trim();return e?`${e}. ${r}`:`- ${r}`},e.todo=(t,e)=>e?`- [x] ${t}`:`- [ ] ${t}`;let a=async(t,e,r=!1)=>{if(!r||e.startsWith("data:")){if(e.startsWith("data:")){let r=e.split(",").pop();return`![${t}](data:image/png;base64,${r})`}return`![${t}](${e})`}{let r=await (0,s.default)(e),n=await r.arrayBuffer(),o=i.from(n).toString("base64");return`![${t}](data:image/png;base64,${o})`}};e.image=a,e.addTabSpace=(t,e=0)=>{for(let r=0;r<e;r++)t=t.includes("\n")?"	"+t.split(/(?:^|\n)/).join(`
	`):"	"+t;return t},e.divider=()=>"---",e.toggle=(t,e)=>t?`<details>
<summary>${t}</summary>
${e||""}
</details>

`:e||"",e.table=t=>(0,o.default)(t)},8456:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyNumberedListObject=e.getBlockChildren=void 0;let r=async(t,r,i)=>{let n,o=[],s=0;do{let e=await t.blocks.children.list({start_cursor:n,block_id:r});o.push(...e.results),n=null==e?void 0:e.next_cursor,s+=1}while(null!=n&&(null==i||s<i));return(0,e.modifyNumberedListObject)(o),o};e.getBlockChildren=r,e.modifyNumberedListObject=t=>{let e=0;for(let r of t)"type"in r&&"numbered_list_item"===r.type?r.numbered_list_item.number=++e:e=0}},5208:t=>{"use strict";var e,r="";t.exports=function(t,i){if("string"!=typeof t)throw TypeError("expected a string");if(1===i)return t;if(2===i)return t+t;var n=t.length*i;if(e!==t||void 0===e)e=t,r="";else if(r.length>=n)return r.substr(0,n);for(;n>r.length&&i>1;)1&i&&(r+=t),i>>=1,t+=t;return r+=t,r=r.substr(0,n)}},4585:t=>{"use strict";t.exports=JSON.parse('{"name":"@notionhq/client","version":"2.2.15","description":"A simple and easy to use client for the Notion API","engines":{"node":">=12"},"homepage":"https://developers.notion.com/docs/getting-started","bugs":{"url":"https://github.com/makenotion/notion-sdk-js/issues"},"repository":{"type":"git","url":"https://github.com/makenotion/notion-sdk-js/"},"keywords":["notion","notionapi","rest","notion-api"],"main":"./build/src","types":"./build/src/index.d.ts","scripts":{"prepare":"npm run build","prepublishOnly":"npm run checkLoggedIn && npm run lint && npm run test","build":"tsc","prettier":"prettier --write .","lint":"prettier --check . && eslint . --ext .ts && cspell \'**/*\' ","test":"jest ./test","check-links":"git ls-files | grep md$ | xargs -n 1 markdown-link-check","prebuild":"npm run clean","clean":"rm -rf ./build","checkLoggedIn":"./scripts/verifyLoggedIn.sh"},"author":"","license":"MIT","files":["build/package.json","build/src/**"],"dependencies":{"@types/node-fetch":"^2.5.10","node-fetch":"^2.6.1"},"devDependencies":{"@types/jest":"^28.1.4","@typescript-eslint/eslint-plugin":"^5.39.0","@typescript-eslint/parser":"^5.39.0","cspell":"^5.4.1","eslint":"^7.24.0","jest":"^28.1.2","markdown-link-check":"^3.8.7","prettier":"^2.8.8","ts-jest":"^28.0.5","typescript":"^4.8.4"}}')}}]);