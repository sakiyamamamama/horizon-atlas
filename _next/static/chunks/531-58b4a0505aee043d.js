"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{4531:(e,t,s)=>{s.d(t,{A:()=>z});var l=s(4848),r=s(6540),n=s(3368),a=s.n(n);let i=()=>(0,l.jsxs)("footer",{className:"bg-gray-700 text-white py-8",children:[(0,l.jsx)("div",{className:"container text-5xl mx-auto gap-4 mb-5",children:"Horizon"}),(0,l.jsxs)("div",{className:"container mx-auto grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-bold text-lg mb-2",children:"About Us"}),(0,l.jsx)("p",{children:"Learn more about our mission and values."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Quick Links"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/about",className:"hover:underline",children:"About"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/contact",className:"hover:underline",children:"Contact"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/privacy",className:"hover:underline",children:"Privacy Policy"})})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("h4",{className:"font-bold text-lg mb-2",children:"Follow Us"})})]}),(0,l.jsx)("p",{className:"text-center mt-4",children:"\xa92024 RyukokuHorizon."})]});var c=s(1106),d=s.n(c);let o=function(e){let{setOpenSide:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{onClick:()=>t(!0),className:"flex flex-col gap-1.5 w-7 h-7 mt-2",children:[(0,l.jsx)("span",{className:"border border-neutral-500 w-7"}),(0,l.jsx)("span",{className:"border border-neutral-500 w-7"}),(0,l.jsx)("span",{className:"border border-neutral-500 w-7"})]})})};var x=s(9965),u=s.n(x),h=s(1988),m=s(9179);function j(e,t){let s=e.given_name;return(null==s?void 0:s.some(e=>e===t.develop.id))?"発展班":(null==s?void 0:s.some(e=>e===t.basic.id))?"基礎班":"体験入部"}function f(e){let{roleData:t}=e,{user:s,logout:n}=(0,h.WB)(),[a,i]=(0,r.useState)(!1),c=(0,r.useRef)(null),d=(0,r.useRef)(null),[o,x]=(0,r.useState)("");return(0,r.useEffect)(()=>{x(j(s,t))},[s]),(0,r.useEffect)(()=>{let e=e=>{let t=e.target;d.current&&!d.current.contains(t)&&c.current&&!c.current.contains(t)&&i(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"max-w-md",children:[(0,l.jsxs)("div",{id:"toggle",ref:c,onClick:e=>{e.stopPropagation(),i(e=>!e)},className:"cursor-pointer flex rounded-lg shadow-lx  hover:translate-y-1 hover:opacity-85 duration-200",children:[(0,l.jsx)(u(),{src:(null==s?void 0:s.picture)||"",alt:"UserIcon",width:10,height:10,className:"h-auto w-9 rounded-full"}),(0,l.jsxs)("div",{className:"mt-0.5 ml-0.5",children:[(0,l.jsx)("p",{className:"text-xs text-neutral-500",children:null==s?void 0:s.name}),(0,l.jsx)("p",{className:"text-xs text-neutral-500",children:o})]})]}),a&&(0,l.jsx)("div",{id:"toggleTarget",ref:d,className:"z-50 border-solid border-neutral-300 border-2 absolute bg-white p-2 rounded-md w-32 translate-y-1 translate-x-[-15%]",children:(0,l.jsx)("ul",{children:(0,l.jsxs)("button",{onClick:()=>n({logoutParams:{returnTo:"https://sakiyamamamama.github.io/horizon-atlas"}}),className:"flex relative hover:bg-slate-200 rounded-sm p-1 pr-2",children:[(0,l.jsx)(m.vDZ,{size:18,className:"mt-0.5 mr-1.5 text-neutral-600"}),(0,l.jsx)("p",{className:"text-neutral-600",children:"ログアウト"})]})})}),(0,l.jsx)("div",{})]})})}var p=s(4650);let g=function(){return(0,l.jsx)(d(),{href:"/search",children:(0,l.jsx)("div",{className:"ml-2 p-2 bg-slate-500 text-white inline-flex items-center justify-center rounded-full hover:bg-blue-500 transition-all duration-300",children:(0,l.jsx)(p.Mmj,{size:22})})})};function v(e){let{setOpenbar:t,roleData:s}=e;return(0,l.jsx)("header",{className:"w-full pb-1 bg-white",children:(0,l.jsxs)("div",{className:" text-white px-5 mb-0 flex justify-between items-center",children:[(0,l.jsx)(d(),{href:"/posts",className:"text-2xl font-semibold text-gray-700 hover:text-blue-500 transition-colors",children:"HorizonAtlas"}),(0,l.jsxs)("ul",{className:"hidden md:flex items-center text-sm pt-2 duration-100",children:[(0,l.jsx)("li",{className:"mr-4",children:(0,l.jsx)(g,{})}),(0,l.jsx)("li",{children:(0,l.jsx)(f,{roleData:s})})]}),(0,l.jsx)("ul",{className:"flex md:hidden items-center text-sm pt-2",children:(0,l.jsx)("li",{children:(0,l.jsx)(o,{setOpenSide:t})})})]})})}let b=function(e){let{pageNav:t}=e,[s,n]=(0,r.useState)(!1),a=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{let t=e.target;i.current&&!i.current.contains(t)&&a.current&&!a.current.contains(t)&&n(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:a,className:"mr-2 px-1 hover:bg-neutral-200",children:(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e=>!e)},className:"text-neutral-500",children:"..."})}),s&&(0,l.jsx)("div",{id:"toggleTarget",ref:i,className:"absolute bg-white p-2 rounded-xl translate-y-[45%] translate-x-[40%] shadow-2xl",children:t.map((e,t)=>(0,l.jsx)(d(),{href:e.id,className:"z-50",children:(0,l.jsx)("p",{className:"hover:bg-neutral-200 text-neutral-500 text-sm",children:e.title})},t))})]})},N=function(e){let{pageNavs:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("nav",{className:"pl-4 bg-white duration-100 pt-1",children:[t.length>3&&(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(d(),{href:t[0].id,className:"pr-2 hover:bg-neutral-200 text-neutral-500",children:t[0].title}),(0,l.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,l.jsx)(b,{pageNav:t.slice(1,-2)}),(0,l.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,l.jsxs)(d(),{href:t[t.length-2].id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[t[t.length-2].title.slice(0,8),t[t.length-2].title.length>8&&(0,l.jsx)("span",{children:"..."})]}),(0,l.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"}),(0,l.jsxs)(d(),{href:t[t.length-1].id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[t[t.length-1].title.slice(0,8),t[t.length-1].title.length>8&&(0,l.jsx)("span",{children:"..."})]})]})}),t.length<=3&&(0,l.jsx)("div",{className:"flex",children:t.map((e,s)=>(0,l.jsxs)("div",{className:"flex gap-1.5",children:[(0,l.jsxs)(d(),{href:e.id,className:"px-2 hover:bg-neutral-200 text-neutral-500",children:[e.title.slice(0,9),e.title.length>9&&(0,l.jsx)("span",{children:"..."})]}),s+1<t.length&&(0,l.jsx)("p",{className:"cursor-default text-neutral-500",children:"/"})]},s))})]})})},w=function(){let[e,t]=(0,r.useState)(!1),s=(0,r.useRef)(null),n=(0,r.useRef)(null),{user:a,logout:i}=(0,h.WB)();return(0,r.useEffect)(()=>{let e=e=>{let l=e.target;n.current&&!n.current.contains(l)&&s.current&&!s.current.contains(l)&&t(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{ref:s,onClick:e=>{e.stopPropagation(),t(e=>!e)},className:"flex cursor-pointer gap-1.5 border border-neutral-300 rounded p-1",children:[(0,l.jsx)("div",{children:(0,l.jsx)(u(),{width:20,height:20,src:(null==a?void 0:a.picture)||"",alt:"",className:"rounded-full w-9 h-auto"})}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"mt-1.5 mr-0.5 text-sm text-neutral-500",children:null==a?void 0:a.name})})]}),e&&(0,l.jsx)("div",{id:"toggleTarget",ref:n,className:"z-50 border-solid border-neutral-300 border absolute bg-white p-1.5 rounded-md w-32 translate-y-[100%] translate-x-[-10%] right-5",children:(0,l.jsx)("ul",{children:(0,l.jsxs)("button",{onClick:()=>i(),className:"flex relative hover:bg-slate-200 rounded-sm p-1 pr-2",children:[(0,l.jsx)(p.YZx,{size:21,className:"mr-1"}),(0,l.jsx)("p",{className:"text-neutral-600 text-sm",children:"ログアウト"})]})})})]})},y=function(e){let{openbar:t,setOpenbar:s,pageNav:n,roleData:a}=e,{user:i}=(0,h.WB)(),[c,o]=(0,r.useState)("");return(0,r.useEffect)(()=>{o(j(i,a))},[i]),(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)("div",{onClick:()=>s(!1),className:"bg-black opacity-45 fixed w-full top-0 block md:hidden",style:{height:"".concat((()=>{if(void 0!==window)return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)})(),"px"),zIndex:"9998"}}),(0,l.jsx)("div",{className:"fixed w-7/12 top-0 right-0 block md:hidden bg-white duration-700 h-screen",style:t?{transform:"translateX(0px)",zIndex:"9999"}:{transform:"translateX(130%)"},children:(0,l.jsx)("div",{className:"h-full overflow-y-auto p-3",children:(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{className:"flex items-center justify-between mr-5",children:[(0,l.jsx)("div",{}),(0,l.jsx)("p",{onClick:()=>s(!1),className:"cursor-pointer text-4xl text-neutral-500",children:"\xd7"})]}),(0,l.jsxs)("li",{className:"flex items-center justify-between mr-5 mt-3",children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("p",{className:"mr-3 mt-3 text-neutral-500",children:c}),(0,l.jsx)(w,{})]})]}),(0,l.jsx)("li",{className:"mt-3 hover:bg-neutral-100",children:(0,l.jsx)(d(),{href:"/search",children:(0,l.jsxs)("div",{className:"flex items-center justify-between mr-5 py-2 px-2",children:[(0,l.jsx)(p.Mmj,{size:25,className:"text-neutral-600"}),(0,l.jsx)("div",{className:"text-neutral-500 font-bold",children:"カリキュラム検索"})]})})}),(0,l.jsx)("li",{className:"mt-2",children:void 0!==n&&(0,l.jsxs)("div",{className:"p-1 border border-neutral-400 rounded",children:[(0,l.jsx)("p",{className:"text-base",children:n.title}),n.childPages.map((e,t)=>(0,l.jsx)("div",{className:"p-0.5 mt-1 cursor-pointer hover:bg-neutral-100",children:(0,l.jsx)(d(),{href:"/posts/post/".concat(n.slug,"/").concat(e.id),className:"my-1.5 text-sm text-neutral-500 underline truncate",children:e.title})},t))]})})]})})})]})};var k=s(6715);function E(){let e=(0,k.useRouter)();return(0,l.jsx)("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"ログインが必要です"}),(0,l.jsx)("button",{className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",onClick:()=>{e.push("https://sakiyamamamama.github.io/horizon-atlas")},children:"OK"})]})})}let z=e=>{let{children:t,headerProps:s,sideNavProps:n,roleData:c}=e,[d,o]=(0,r.useState)(!0),[x,u]=(0,r.useState)(0),[m,j]=(0,r.useState)(!1),{isAuthenticated:f}=(0,h.WB)();return((0,r.useEffect)(()=>{if(void 0!==window){let e=()=>{let e=window.scrollY;e>x&&e>50?o(!1):o(!0),u(e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[x]),f)?(0,l.jsxs)("div",{className:"bg-white",children:[(0,l.jsx)(a(),{children:(0,l.jsx)("title",{children:"Horizon Atlas"})}),(0,l.jsx)(y,{openbar:m,setOpenbar:j,pageNav:n,roleData:c}),(0,l.jsxs)("div",{className:"fixed top-0 z-50 w-full duration-500",style:d?{transform:"translateY(0px)"}:{transform:"translateY(-65%)"},children:[(0,l.jsx)(v,{setOpenbar:j,roleData:c}),(0,l.jsx)(N,{pageNavs:s.pageNavs})]}),(0,l.jsxs)("div",{className:"bg-gray-50",children:[t,(0,l.jsx)("div",{className:"h-5"})]}),(0,l.jsx)(i,{})]}):(0,l.jsx)(E,{})}}}]);